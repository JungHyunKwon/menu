/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({event : string, cut : number, namespace : string, openElement : element, closeElement : element})
 * @param {jQueryElement || element} element
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=e(document),n=h(window.console),a=[],i="menu",s="_",o={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut",initialized:i+s+"initialized"};function h(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var n=window.jQuery.map(e,function(e,t){var n=h(e);if("window"===n||"document"===n||"element"===n)return e}).length;t=n&&e.length===n?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(o.activePrev=o.active+s+o.prev,o.activeNext=o.active+s+o.next,o.actived=o.active+"d",o.activedPrev=o.actived+s+o.prev,o.activedNext=o.actived+s+o.next,"object"!==n&&"console"!==n){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var l=0,d=window.console.method.length;l<d;l++)"function"!==h(window.console[window.console.method[l]])&&(window.console[window.console.method[l]]=function(){var e=[],t=arguments.length;if(t>1)for(var n=0;n<t;n++)e.push(arguments[n]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var n=e("body");function l(e){var t=h(e),n=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(n=!0),n}function d(t){return"object"!==h(t)&&(t={}),"string"===h(t.method)&&(t.method=t.method.toLowerCase()),t.noneDurationType=h(t.noneDuration),"string"===t.noneDurationType?t.noneDuration=t.noneDuration.toLowerCase():"boolean"!==t.noneDurationType&&(t.noneDuration=!1),"boolean"!==h(t.showElement)&&(t.showElement=!1),"boolean"!==h(t.showParents)&&(t.showParents=!1),"array"!==h(t.changeAuto)&&(t.changeAuto=[]),t.$element=e(t.element),t.result=[],t.$element.each(function(n,a){var i=e(a),s="";if(l(a)){var o=i.clone(!1);if(o.css({visibility:"hidden",position:"absolute",top:0,left:0,zIndex:-1}),i.after(o),t.showParents){var d=o.parents(":not(html, body)"),p=e.map(d,function(e,t){return e.style.display||""});d.show(0)}t.showElement&&o.show(0),t.noneDuration?o.css({animationName:"none",transitionProperty:"none"}):"animation"===t.noneDuration?o.css("animation-name","none"):"transition"===t.noneDuration&&o.css("transition-property","none"),t.changeAuto.length&&e.each(t.changeAuto,function(e,t){"string"===h(t)&&(t=t.toLowerCase()),"width"===t?o.width("auto"):"minwidth"===t?o.css("min-width",0):"maxwidth"===t?o.css("max-width","none"):"height"===t?o.height("auto"):"minheight"===t?o.css("min-height",0):"maxheight"===t&&o.css("max-height","none")}),o.css({width:o.outerWidth(),height:o.outerHeight()}),"outerwidth(true)"===t.method?s=o.outerWidth(!0):"outerwidth"===t.method?s=o.outerWidth():"innerwidth"===t.method?s=o.innerWidth():"width"===t.method?s=o.width():"outerheight(true)"===t.method?s=o.outerHeight(!0):"outerheight"===t.method?s=o.outerHeight():"innerheight"===t.method?s=o.innerHeight():"height"===t.method&&(s=o.height()),t.showParents&&d.each(function(t,n){e(n).css("display",p[t])}),o.remove()}t.result.push(s)}),1===t.result.length?t.result=t.result[0]:t.result.length||(t.result=""),t.result}function p(t,n){var a=e(t),i="string"===h(n)?n.length:0,s=[];return a.each(function(t,a){var o=e(a),h=o.attr("class");h&&e.each(h.split(/\s/),function(e,t){t.substring(0,i)===n&&(o.removeClass(t),s.push(t))})}),1===s.length?s=s[0]:s.length||(s=a),s}e.fn.menu=function(r,c){var m,u,v,f=this.first(),g=h(r),$=(m=f[0],u=[],e(m).each(function(t,n){var i=e(n),s=!1;e.each(a,function(e,t){if("object"===h(t)&&i.is(t.element))return u.push(e),s=!0,!1}),s||u.push(-1)}),1===u.length&&(u=u[0]),u),x=e.Event("menu");return"string"===g?(r=r.toLowerCase(),$>-1&&("destroy"===r?(a[$].option.$depth2CutItem.remove(),f.removeClass(o.initialized),p(a[$].option.$depthItem,o.rule),n.removeClass(a[$].option.className.globalActive+" "+a[$].option.className.globalOpen),p(f,o.state),a[$].option.$depthItem.removeClass(o.has+" "+o.solo+" "+o.activePrev+" "+o.active+" "+o.activeNext+" "+o.activedPrev+" "+o.actived+" "+o.activedNext),a[$].option.$depth.css("max-height",""),a[$].option.$depth1Title.css("max-height",""),f.css("padding-bottom",""),t.off("keydown."+a[$].option.namespace),a[$].option.$openElement.off("click."+a[$].option.namespace+" focusin."+a[$].option.namespace),a[$].option.$closeElement.off("click."+a[$].option.namespace+" focusout."+a[$].option.namespace),f.off("mouseleave."+a[$].option.namespace),a[$].option.$depthText.off("focusin."+a[$].option.namespace+" focusout."+a[$].option.namespace+" click."+a[$].option.namespace),a[$].option.$depthAndText.off("mouseover."+a[$].option.namespace),a.splice($,1)):"spy"===r&&(l(c)||(c=a[$].option.$activedDepthText[0]),e(c).each(function(t,n){var i=!1;a[$].option.$depthText.each(function(t,a){e(a).is(n)&&(i=!0)}),i&&a[$].option.openMenu.call(n,x)})))):"jQueryElement"===h(f)&&($>-1&&f.menu("destroy"),"object"!==g&&(r={}),r.namespace="string"===h(v=r.namespace)?v.replace(/\s/g,""):v,"string"===h(r.namespace)&&""!==r.namespace||(r.namespace=i),"number"!==h(r.cut)&&(r.cut=0),"string"===h(r.event)&&(r.event=r.event.toLowerCase()),"mouse"!==r.event&&"click"!==r.event&&(r.event="click"),r.$openElement=e(r.openElement),r.$closeElement=e(r.closeElement),f.addClass(o.initialized),r.className={globalActive:r.namespace+s+o.active,globalOpen:r.namespace+s+o.open},r.type=parseInt(f.attr("data-menu-type"),10),r.type&&"NaN"!==h(r.type)||(r.type=1),r.$depth=f.find("div[data-menu-depth]"),r.$depth1=r.$depth.filter('div[data-menu-depth="1"]'),r.$depth1Title=r.$depth1.find('div[data-menu-title="1"]'),r.$depth1List=r.$depth1.find('ul[data-menu-list="1"]'),r.$depth1Item=r.$depth1List.children("li"),r.$depth1FirstItem=r.$depth1Item.first(),r.$depth1Text=r.$depth1Item.find('a[data-menu-text="1"], button[data-menu-text="1"]'),r.$depth2=r.$depth.filter('[data-menu-depth="2"]'),r.$depthList=r.$depth.find("ul[data-menu-list]"),r.$depth2List=r.$depth2.find('ul[data-menu-list="2"]'),r.$depthItem=r.$depthList.children("li"),r.$depthText=r.$depth1.find("a[data-menu-text], button[data-menu-text]"),r.$depthLastText=r.$depthText.last(),r.$depthAndText=r.$depth.add(r.$depthText),r.$activedDepthText=r.$depth1.find('a[data-menu-text][data-menu-actived="true"], button[data-menu-text][data-menu-actived="true"]').last(),r.$activedDepthItem=r.$activedDepthText.parents("li"),r.$activedDepthItem.prev("li").addClass(o.activedPrev),r.$activedDepthItem.addClass(o.actived),r.$activedDepthItem.next("li").addClass(o.activedNext),r.cut>0&&r.$depth2List.children("li:nth-child("+r.cut+"n)").next("li").prev("li").after('<li class="'+o.cut+'">&nbsp;</li>'),r.$depth2CutItem=r.$depthList.children("li."+o.cut),r.$depthList.each(function(t,n){e(n).children("li").each(function(t,n){var a=e(n);a.addClass(o.rule+(t+1)),a.find("div[data-menu-depth]:first").length?a.addClass(o.has):a.addClass(o.solo)})}),r.setHeight=function(t){return"object"!==h(t)&&(r={}),"boolean"!==h(t.nextDepth)&&(t.nextDepth=!1),"boolean"!==h(t.parentsDepth)&&(t.parentsDepth=!1),t.$element=e(t.element),l(t.element)&&(t.$parentsDepthItem=t.$element.parents("li"),t.nextDepth&&(t.$nextDepth=t.$parentsDepthItem.first().find("div[data-menu-depth]:first"),t.$nextDepth.css("max-height",d({element:t.$nextDepth[0],method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:["height","minheight","maxheight"]}))),t.parentsDepth&&t.$element.parents('div[data-menu-depth]:not([data-menu-depth="1"])').each(function(t,n){e(n).css("max-height",d({element:n,method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:["height","minheight","maxheight"]}))}),t.$depth2=t.$parentsDepthItem.find('div[data-menu-depth="2"]'),1===r.type?(t.depth2Height=Math.max.apply(null,d({element:r.$depth2.get(),method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:["height","minheight","maxheight"]})),r.$depth1Title.length&&r.$depth1Title.css("max-height",t.depth2Height)):2!==r.type&&3!==r.type||(t.depth2Height=d({element:t.$depth2[0],method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:["height","minheight","maxheight"]})),1===r.type||2===r.type?r.$depth2.css("max-height",t.depth2Height):3===r.type&&t.$depth2.css("max-height",t.depth2Height),1!==r.type&&2!==r.type&&3!==r.type||f.css("padding-bottom",t.depth2Height)),t.$element},r.addStateClass=function(t){var n=e(t);p(f,o.state),n.parents("li").each(function(e,t){f.addClass(o.state+(r.$depthItem.index(t)+1))})},r.setSpy=function(e){r.$activedDepthText.length?f.menu("spy"):r.closeMenu.call(e,x)},r.openMenu=function(t){var a=e(this).parents("li"),i=a.last(),s=a.prev("li"),h=a.next("li");if(r.$depth2CutItem.is(s)&&(s=s.prev("li")),r.$depth2CutItem.is(h)&&(h=h.next("li")),"mouse"===r.event&&"focusin"!==t.type)r.closeMenu.call(this,t);else if("click"===r.event){var l=a.find("[data-menu-text]:first").filter("a, button").closest("li"),d=l.siblings("li");l.add(d).removeClass(o.activePrev+" "+o.active+" "+o.activeNext),d.find("div[data-menu-depth]:first").css("max-height","")}n.addClass(r.className.globalActive),s.addClass(o.activePrev),a.addClass(o.active),h.addClass(o.activeNext),r.addStateClass(i.add(i.find("ul[data-menu-list] > li")).filter("."+o.active).last().find("a[data-menu-text], button[data-menu-text]").first()[0]),r.setHeight({element:this,nextDepth:!0,parentsDepth:!0}),t.stopPropagation()},r.closeMenu=function(t){var a=e(this);if("mouse"===r.event)n.removeClass(r.className.globalActive),p(f,o.state),r.$depth.css("max-height",""),f.css("padding-bottom",""),r.$depth1Title.length&&r.$depth1Title.css("max-height",""),r.$depthItem.removeClass(o.activePrev+" "+o.active+" "+o.activeNext);else{var i=this,s=a.parents("li"),h=s.eq(1);if(a.is(r.$depthLastText)){var l=h.prev("li"),d=h.next("li");i=s.eq(2).find("a[data-menu-text], button[data-menu-text]").first()[0],r.$depth2CutItem.is(l)&&(l=l.prev("li")),r.$depth2CutItem.is(d)&&(d=d.next("li")),l.removeClass(o.activePrev),h.removeClass(o.active),d.removeClass(o.activeNext),r.addStateClass(i),s.first().closest("div[data-menu-depth]").css("max-height","")}else{var c=s.first(),m=c.prev("li"),u=c.next("li");r.$depth2CutItem.is(m)&&(m=m.prev("li")),r.$depth2CutItem.is(u)&&(u=u.next("li")),m.removeClass(o.activePrev),c.removeClass(o.active),u.removeClass(o.activeNext),r.addStateClass(h.find("a[data-menu-text], button[data-menu-text]").first()[0]),c.find("div[data-menu-depth]:first").css("max-height","")}r.setHeight({element:i,nextDepth:!1,parentsDepth:!0}),r.$depth1Text.is(i)&&(n.removeClass(r.className.globalActive),1!==r.type&&2!==r.type&&3!==r.type||(f.css("padding-bottom",""),r.$depth1Title.css("max-height","")))}t.stopPropagation()},"mouse"===r.event?(r.$depthAndText.on("mouseover."+r.namespace,r.openMenu),f.on("mouseleave."+r.namespace,function(e){r.setSpy()})):(r.time=0,r.$depthText.on("click."+r.namespace,function(t){var n=e(this),a=n.closest("li"),i=a.find("div[data-menu-depth]:first"),s=(new Date).getTime(),l=i.css("transition-duration");if("string"===h(l)?"NaN"===h(l="ms"!==l.substr(-1)?1e3*parseFloat(l,10):parseFloat(l,10))&&(l=0):l=0,s-r.time>=l){var d=this.tagName.toLowerCase(),p=a.hasClass(o.active);r.time=s,("a"===d&&n.attr("href")===i.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===d)&&p?(r.setSpy(this),t.preventDefault()):i.length&&!p&&(r.openMenu.call(this,t),t.preventDefault())}else t.preventDefault()})),r.$openElement.on("click."+r.namespace,function(e){n.toggleClass(r.className.globalOpen),e.preventDefault()}).on("focusin."+r.namespace,function(e){n.removeClass(r.className.globalOpen)}),r.$closeElement.on("click."+r.namespace+" focusout."+r.namespace,function(e){n.removeClass(r.className.globalOpen),r.$openElement.focus(),"click"===e.type&&e.preventDefault()}),r.$depthText.on("focusin."+r.namespace,function(e){r.isPressTabKey&&r.openMenu.call(this,e)}).on("focusout."+r.namespace,function(e){r.isPressTabKey&&r.setSpy(this)}),t.on("keydown."+r.namespace,function(e){9===(e.keyCode||e.which)&&(r.isPressTabKey=!0),r.timer&&(clearTimeout(r.timer),r.timer=0),r.timer=setTimeout(function(){r.isPressTabKey=!1},250)}),a.push({element:f[0],option:r}),r.isOpen=n.hasClass(r.className.globalOpen),r.$activedDepthText.length&&n.addClass(r.className.globalActive+" "+r.className.globalOpen),f.menu("spy"),r.$activedDepthText.length&&!r.isOpen&&n.removeClass(r.className.globalOpen)),f}})}(jQuery)}catch(e){console.error(e)}