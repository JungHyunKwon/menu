/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({event : string, cut : number, namespace : string, openElement : element, closeElement : element})
 * @param {jQueryElement || element} element
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=e(document),n=h(window.console),i=[],a="menu",s="_",o={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut",initialized:a+s+"initialized"};function h(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var n=window.jQuery.map(e,function(e,t){var n=h(e);if("window"===n||"document"===n||"element"===n)return e}).length;t=n&&e.length===n?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(o.activePrev=o.active+s+o.prev,o.activeNext=o.active+s+o.next,o.actived=o.active+"d",o.activedPrev=o.actived+s+o.prev,o.activedNext=o.actived+s+o.next,"object"!==n&&"console"!==n){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var d=0,l=window.console.method.length;d<l;d++)"function"!==h(window.console[window.console.method[d]])&&(window.console[window.console.method[d]]=function(){var e=[],t=arguments.length;if(t>1)for(var n=0;n<t;n++)e.push(arguments[n]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var n=e("body");function d(e){var t=h(e),n=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(n=!0),n}function l(t){return"object"!==h(t)&&(t={}),"string"===h(t.method)&&(t.method=t.method.toLowerCase()),t.noneDurationType=h(t.noneDuration),"string"===t.noneDurationType?t.noneDuration=t.noneDuration.toLowerCase():"boolean"!==t.noneDurationType&&(t.noneDuration=!1),"boolean"!==h(t.showElement)&&(t.showElement=!1),"boolean"!==h(t.showParents)&&(t.showParents=!1),"array"!==h(t.changeAuto)&&(t.changeAuto=[]),t.$element=e(t.element),t.result=[],t.$element.each(function(n,i){var a=e(i),s="";if(d(i)){var o=a.clone(!1);if(o.css({visibility:"hidden",position:"absolute",top:0,left:0,zIndex:-1}),a.after(o),t.showParents){var l=o.parents(":not(html, body)"),r=e.map(l,function(e,t){return e.style.display||""});l.show(0)}t.showElement&&o.show(0),t.noneDuration?o.css({animationName:"none",transitionProperty:"none"}):"animation"===t.noneDuration?o.css("animation-name","none"):"transition"===t.noneDuration&&o.css("transition-property","none"),t.changeAuto.length&&e.each(t.changeAuto,function(e,t){"string"===h(t)&&(t=t.toLowerCase()),"width"===t?o.width("auto"):"minwidth"===t?o.css("min-width",0):"maxwidth"===t?o.css("max-width","none"):"height"===t?o.height("auto"):"minheight"===t?o.css("min-height",0):"maxheight"===t&&o.css("max-height","none")}),o.css({width:o.outerWidth(),height:o.outerHeight()}),"outerwidth(true)"===t.method?s=o.outerWidth(!0):"outerwidth"===t.method?s=o.outerWidth():"innerwidth"===t.method?s=o.innerWidth():"width"===t.method?s=o.width():"outerheight(true)"===t.method?s=o.outerHeight(!0):"outerheight"===t.method?s=o.outerHeight():"innerheight"===t.method?s=o.innerHeight():"height"===t.method&&(s=o.height()),t.showParents&&l.each(function(t,n){e(n).css("display",r[t])}),o.remove()}t.result.push(s)}),1===t.result.length?t.result=t.result[0]:t.result.length||(t.result=""),t.result}function r(t,n){var i=e(t),a="string"===h(n)?n.length:0,s=[];return i.each(function(t,i){var o=e(i),h=o.attr("class");h&&e.each(h.split(/\s/),function(e,t){t.substring(0,a)===n&&(o.removeClass(t),s.push(t))})}),1===s.length?s=s[0]:s.length||(s=i),s}e.fn.menu=function(p,c){var m,u,v,f,g=this.first(),$=h(p),x=(m=g[0],u=e(m),v=[],u.each(function(t,n){var a=e(n),s=!1;e.each(i,function(e,t){if("object"===h(t)&&a.is(t.element))return v.push(e),s=!0,!1}),s||v.push(-1)}),1===v.length&&(v=v[0]),v),w=e.Event("menu");return"string"===$?(p=p.toLowerCase(),x>-1&&("destroy"===p?(i[x].option.$depth2CutItem.remove(),g.removeClass(o.initialized),r(i[x].option.$depthItem,o.rule),n.removeClass(i[x].option.className.globalActive+" "+i[x].option.className.globalOpen),r(g,o.state),i[x].option.$depthItem.removeClass(o.has+" "+o.solo+" "+o.activePrev+" "+o.active+" "+o.activeNext+" "+o.activedPrev+" "+o.actived+" "+o.activedNext),i[x].option.$depth.css("max-height",""),i[x].option.$depth1Title.css("max-height",""),g.css("padding-bottom",""),t.off("keydown."+i[x].option.namespace),i[x].option.$openElement.off("click."+i[x].option.namespace+" focusin."+i[x].option.namespace),i[x].option.$closeElement.off("click."+i[x].option.namespace+" focusout."+i[x].option.namespace),g.off("mouseleave."+i[x].option.namespace),i[x].option.$depthText.off("focusin."+i[x].option.namespace+" focusout."+i[x].option.namespace+" click."+i[x].option.namespace),i[x].option.$depthAndText.off("mouseover."+i[x].option.namespace),i.splice(x,1)):"spy"===p&&(d(c)||(c=i[x].option.$activedDepthText[0]),e(c).each(function(t,n){var a=!1;i[x].option.$depthText.each(function(t,i){e(i).is(n)&&(a=!0)}),a&&i[x].option.openMenu.call(n,w)})))):"jQueryElement"===h(g)&&(x>-1&&g.menu("destroy"),"object"!==$&&(p={}),p.namespace="string"===h(f=p.namespace)?f.replace(/\s/g,""):f,"string"===h(p.namespace)&&""!==p.namespace||(p.namespace=a),"number"!==h(p.cut)&&(p.cut=0),"string"===h(p.event)&&(p.event=p.event.toLowerCase()),"mouse"!==p.event&&"click"!==p.event&&(p.event="click"),p.$openElement=e(p.openElement),p.$closeElement=e(p.closeElement),g.addClass(o.initialized),p.className={globalActive:p.namespace+s+o.active,globalOpen:p.namespace+s+o.open},p.type=parseInt(g.attr("data-menu-type"),10),p.type&&"NaN"!==h(p.type)||(p.type=1),p.$depth=g.find("div[data-menu-depth]"),p.$depth1=p.$depth.filter('div[data-menu-depth="1"]'),p.$depth1Title=p.$depth1.find('div[data-menu-title="1"]'),p.$depth1List=p.$depth1.find('ul[data-menu-list="1"]'),p.$depth1Item=p.$depth1List.children("li"),p.$depth1FirstItem=p.$depth1Item.first(),p.$depth1Text=p.$depth1Item.find('a[data-menu-text="1"], button[data-menu-text="1"]'),p.$depth2=p.$depth.filter('[data-menu-depth="2"]'),p.$depthList=p.$depth.find("ul[data-menu-list]"),p.$depth2List=p.$depth2.find('ul[data-menu-list="2"]'),p.$depthItem=p.$depthList.children("li"),p.$depthText=p.$depth1.find("a[data-menu-text], button[data-menu-text]"),p.$depthLastText=p.$depthText.last(),p.$depthAndText=p.$depth.add(p.$depthText),p.$activedDepthText=p.$depth1.find('a[data-menu-text][data-menu-actived="true"], button[data-menu-text][data-menu-actived="true"]').last(),p.$activedDepthItem=p.$activedDepthText.parents("li"),p.$activedDepthItem.prev("li").addClass(o.activedPrev),p.$activedDepthItem.addClass(o.actived),p.$activedDepthItem.next("li").addClass(o.activedNext),p.cut>0&&p.$depth2List.children("li:nth-child("+p.cut+"n)").next("li").prev("li").after('<li class="'+o.cut+'">&nbsp;</li>'),p.$depth2CutItem=p.$depthList.children("li."+o.cut),p.$depthList.each(function(t,n){e(n).children("li").each(function(t,n){var i=e(n);i.addClass(o.rule+(t+1)),i.find("div[data-menu-depth]:first").length?i.addClass(o.has):i.addClass(o.solo)})}),p.setHeight=function(t){return"object"!==h(t)&&(p={}),"boolean"!==h(t.nextDepth)&&(t.nextDepth=!1),"boolean"!==h(t.parentsDepth)&&(t.parentsDepth=!1),t.$element=e(t.element),d(t.element)&&(t.$parentsDepthItem=t.$element.parents("li"),t.nextDepth&&(t.$nextDepth=t.$parentsDepthItem.first().find("div[data-menu-depth]:first"),t.$nextDepth.css("max-height",l({element:t.$nextDepth[0],method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:["height","minheight","maxheight"]}))),t.parentsDepth&&t.$element.parents('div[data-menu-depth]:not([data-menu-depth="1"])').each(function(t,n){e(n).css("max-height",l({element:n,method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:["height","minheight","maxheight"]}))}),t.$depth2=t.$parentsDepthItem.find('div[data-menu-depth="2"]'),1===p.type?(t.depth2Height=Math.max.apply(null,l({element:p.$depth2.get(),method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:["height","minheight","maxheight"]})),p.$depth1Title.length&&p.$depth1Title.css("max-height",t.depth2Height)):2!==p.type&&3!==p.type||(t.depth2Height=l({element:t.$depth2[0],method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:["height","minheight","maxheight"]})),1===p.type||2===p.type?p.$depth2.css("max-height",t.depth2Height):3===p.type&&t.$depth2.css("max-height",t.depth2Height),1!==p.type&&2!==p.type&&3!==p.type||g.css("padding-bottom",t.depth2Height)),t.$element},p.addStateClass=function(t){var n=e(t);r(g,o.state),n.parents("li").each(function(e,t){g.addClass(o.state+(p.$depthItem.index(t)+1))})},p.setSpy=function(e){p.$activedDepthText.length?g.menu("spy"):p.closeMenu.call(e,w)},p.openMenu=function(t){var i=e(this).parents("li"),a=i.last(),s=i.prev("li"),h=i.next("li");if(p.$depth2CutItem.is(s)&&(s=s.prev("li")),p.$depth2CutItem.is(h)&&(h=h.next("li")),"mouse"===p.event&&"focusin"!==t.type)p.closeMenu.call(this,t);else if("click"===p.event){var d=i.find("[data-menu-text]:first").filter("a, button"),l=d.closest("li"),r=l.siblings("li");l.add(r).removeClass(o.activePrev+" "+o.active+" "+o.activeNext),r.find("div[data-menu-depth]:first").css("max-height",""),d.each(function(e,t){p.setHeight({element:t,nextDepth:!1,parentsDepth:!0})})}n.addClass(p.className.globalActive),s.addClass(o.activePrev),i.addClass(o.active),h.addClass(o.activeNext),p.addStateClass(a.add(a.find("ul[data-menu-list] > li")).filter("."+o.active).last().find("a[data-menu-text], button[data-menu-text]").first()[0]),p.setHeight({element:this,nextDepth:!0,parentsDepth:!0}),t.stopPropagation()},p.closeMenu=function(t){var i=e(this);if("mouse"===p.event)n.removeClass(p.className.globalActive),r(g,o.state),p.$depth.css("max-height",""),g.css("padding-bottom",""),p.$depth1Title.length&&p.$depth1Title.css("max-height",""),p.$depthItem.removeClass(o.activePrev+" "+o.active+" "+o.activeNext);else{var a=this,s=h.eq(1),h=i.parents("li");if(i.is(p.$depthLastText)){var d=s.prev("li"),l=s.next("li");a=h.eq(2).find("a[data-menu-text], button[data-menu-text]").first()[0],p.$depth2CutItem.is(d)&&(d=d.prev("li")),p.$depth2CutItem.is(l)&&(l=l.next("li")),d.removeClass(o.activePrev),s.removeClass(o.active),l.removeClass(o.activeNext),p.addStateClass(a),h.first().closest("div[data-menu-depth]").css("max-height","")}else{var c=h.first(),m=c.prev("li"),u=c.next("li");p.$depth2CutItem.is(m)&&(m=m.prev("li")),p.$depth2CutItem.is(u)&&(u=u.next("li")),m.removeClass(o.activePrev),c.removeClass(o.active),u.removeClass(o.activeNext),p.addStateClass(s.find("a[data-menu-text], button[data-menu-text]").first()[0]),c.find("div[data-menu-depth]:first").css("max-height","")}p.setHeight({element:a,nextDepth:!1,parentsDepth:!0}),p.$depth1Text.is(a)&&(n.removeClass(p.className.globalActive),1!==p.type&&2!==p.type&&3!==p.type||(g.css("padding-bottom",""),p.$depth1Title.css("max-height","")))}t.stopPropagation()},"mouse"===p.event?(p.$depthAndText.on("mouseover."+p.namespace,p.openMenu),g.on("mouseleave."+p.namespace,function(e){p.setSpy()})):(p.time=0,p.$depthText.on("click."+p.namespace,function(t){var n=e(this),i=n.closest("li"),a=i.find("div[data-menu-depth]:first"),s=(new Date).getTime(),d=a.css("transition-duration");if("string"===h(d)?"NaN"===h(d="ms"!==d.substr(-1)?1e3*parseFloat(d,10):parseFloat(d,10))&&(d=0):d=0,s-p.time>=d){var l=this.tagName.toLowerCase(),r=i.hasClass(o.active);p.time=s,("a"===l&&n.attr("href")===a.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===l)&&r?(p.setSpy(this),t.preventDefault()):a.length&&!r&&(p.openMenu.call(this,t),t.preventDefault())}else t.preventDefault()})),p.$openElement.on("click."+p.namespace,function(e){n.toggleClass(p.className.globalOpen),e.preventDefault()}).on("focusin."+p.namespace,function(e){n.removeClass(p.className.globalOpen)}),p.$closeElement.on("click."+p.namespace+" focusout."+p.namespace,function(e){n.removeClass(p.className.globalOpen),p.$openElement.focus(),"click"===e.type&&e.preventDefault()}),p.$depthText.on("focusin."+p.namespace,function(e){p.isPressTabKey&&p.openMenu.call(this,e)}).on("focusout."+p.namespace,function(e){p.isPressTabKey&&p.setSpy(this)}),t.on("keydown."+p.namespace,function(e){9===(e.keyCode||e.which)&&(p.isPressTabKey=!0),p.timer&&(clearTimeout(p.timer),p.timer=0),p.timer=setTimeout(function(){p.isPressTabKey=!1},250)}),i.push({element:g[0],option:p}),g.menu("spy")),g}})}(jQuery)}catch(e){console.error(e)}