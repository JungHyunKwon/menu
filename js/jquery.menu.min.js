/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({event : string, cut : object(number : number), namespace : string, openElement : element, closeElement : element})
 * @param {jQueryElement || element} element
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=e(window),a=e(document),n=l(window.console),i=[],s="_",o={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function l(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var a=e.length,n=0;for(t=[];n<a;n++){var i=e[n],s=l(i);"window"!==s&&"document"!==s&&"element"!==s||t.push(i)}var o=t.length;t=o&&a===o?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(o.activePrev=o.active+s+o.prev,o.activeNext=o.active+s+o.next,o.actived=o.active+"d",o.activedPrev=o.actived+s+o.prev,o.activedNext=o.actived+s+o.next,"object"!==n&&"console"!==n){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var p=0,d=window.console.method.length;p<d;p++)"function"!==l(window.console[window.console.method[p]])&&(window.console[window.console.method[p]]=function(){var e=[],t=arguments.length;if(t>1)for(var a=0;a<t;a++)e.push(arguments[a]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var n=e("body");function p(e){var t=l(e),a=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(a=!0),a}function d(t){for(var a=e(t),n=[],i=0,s=a.length;i<s;i++){var o=a.eq(i),l=o[0],d="";if(p(l)){var r=l.cloneNode(!0);r.style.cssText="display:block; visibility:hidden !important; position:absolute; top:-9999px; left:-9999px; z-index:-1; height:auto; min-height:0; max-height:none; animation-name:none; transition-property:none; width:"+o.width()+"px;",o.after(r),d=e(r).outerHeight(!0),r.parentNode.removeChild(r)}n[i]=d}return 1===n.length?n=n[0]:n.length||(n=""),n}function r(t,a){for(var n=e(t),i="string"==typeof a?a.length:0,s=[],o=0,l=n.length;o<l;o++){var p=n.eq(o),d=p.attr("class");if(d)for(var r=0,c=(d=d.split(/\s/)).length;r<c;r++){var h=d[r];h.substring(0,i)===a&&(p.removeClass(h),s.push(h))}}return 1===s.length?s=s[0]:s.length||(s=n),s}e.fn.menu=function(c,h){var m,u=this.first(),v=u[0],f=l(c),g=function(t){for(var a=e(t),n=[],s=i.length,o=0,p=a.length;o<p;o++){var d=a.eq(o),r=!1,c=0;for(s=i.length;c<s;c++){var h=i[c];if("object"===l(h)&&d.is(h.element)){n.push(c),r=!0;break}}r||n.push(-1)}return 1===n.length&&(n=n[0]),n}(v),$=i[g],x=e.Event("menu");if("string"===f){if(c=c.toLowerCase(),$)if("destroy"===c)$.option.$depthCutItem.remove(),u.removeClass(o.initialized),r($.option.$depthItem,o.rule),n.removeClass($.option.className.globalActive+" "+$.option.className.globalOpen),r(u,o.state),$.option.$depthItem.removeClass(o.has+" "+o.solo+" "+o.activePrev+" "+o.active+" "+o.activeNext+" "+o.activedPrev+" "+o.actived+" "+o.activedNext),$.option.$depth.css("max-height",""),$.option.$depth1Title.css("max-height",""),u.css("padding-bottom",""),t.off("resize."+$.option.namespace),a.off("keydown."+$.option.namespace),$.option.$openElement.off("click."+$.option.namespace+" focusin."+$.option.namespace),$.option.$closeElement.off("click."+$.option.namespace+" focusout."+$.option.namespace),u.off("mouseleave."+$.option.namespace),$.option.$depthText.off("focusin."+$.option.namespace+" focusout."+$.option.namespace+" click."+$.option.namespace),$.option.$depthAndText.off("mouseover."+$.option.namespace),i.splice(g,1);else if("spy"===c){p(h)||(h=$.option.$activedDepthText[0]);for(var y=e(h),b=$.option.$depthText.length,C=0,w=y.length;C<w;C++){var T=!1,N=y[C],D=0;for(b=$.option.$depthText.length;D<b;D++)$.option.$depthText.eq(D).is(N)&&(T=!0);T&&$.option.openMenu.call(N,x)}}}else if("jQueryElement"===l(u)){$&&u.menu("destroy"),"object"!==f&&(c={}),c.namespace="string"==typeof(m=c.namespace)?m.replace(/\s/g,""):m,"string"==typeof c.namespace&&""!==c.namespace||(c.namespace=u.attr("id")||(u.attr("class")||"").split(/\s/)[0]||v.tagName.toLowercase()+(i.length+1)),"object"!==l(c.cut)&&(c.cut={}),"string"==typeof c.event&&(c.event=c.event.toLowerCase()),"mouse"!==c.event&&"click"!==c.event&&(c.event="click"),c.$openElement=e(c.openElement),c.$closeElement=e(c.closeElement),c.interval=250,c.className={globalActive:c.namespace+s+o.active,globalOpen:c.namespace+s+o.open},c.type=parseInt(u.attr("data-menu-type"),10),c.type&&"NaN"!==l(c.type)||(c.type=1),c.$depth=u.find("div[data-menu-depth]"),c.$depth1=c.$depth.filter('div[data-menu-depth="1"]'),c.$depth1Title=c.$depth1.find('div[data-menu-title="1"]'),c.$depth1List=c.$depth1.find('ul[data-menu-list="1"]'),c.$depth1Item=c.$depth1List.children("li"),c.$depth1Text=c.$depth1Item.find('a[data-menu-text="1"], button[data-menu-text="1"]'),c.$depth2=c.$depth.filter('[data-menu-depth="2"]'),c.$depthList=c.$depth.find("ul[data-menu-list]"),c.$depthItem=c.$depthList.children("li"),c.$depthText=c.$depth1.find("a[data-menu-text], button[data-menu-text]"),c.$depthLastText=c.$depthText.last(),c.$depthAndText=c.$depth.add(c.$depthText),c.$activedDepthText=c.$depth1.find('a[data-menu-text][data-menu-actived="true"], button[data-menu-text][data-menu-actived="true"]').last(),c.$activedDepthItem=c.$activedDepthText.parents("li"),c.$activedDepthItem.prev("li").addClass(o.activedPrev),c.$activedDepthItem.addClass(o.actived),c.$activedDepthItem.next("li").addClass(o.activedNext),u.addClass(o.initialized);for(var C in c.cut){var I=c.cut[C];"number"===l(C=parseInt(C,10))&&"number"===l(I)&&I>1&&u.find('div[data-menu-depth="'+C+'"]:first-of-type ul[data-menu-list]:first > li:nth-child('+I+"n)").next("li").prev("li").after('<li class="'+o.cut+'">&nbsp;</li>')}c.$depthCutItem=c.$depthList.children("li."+o.cut);C=0;for(var k=c.$depthList.length;C<k;C++)for(var j=c.$depthList.eq(C).children("li"),E=(D=0,j.length);D<E;D++){var P=j.eq(D);P.addClass(o.rule+(D+1)),P.find("div[data-menu-depth]:first").length?P.addClass(o.has):P.addClass(o.solo)}c.setHeight=function(t){if("object"!==l(t)&&(c={}),"boolean"!=typeof t.nextDepth&&(t.nextDepth=!1),"boolean"!=typeof t.parentsDepth&&(t.parentsDepth=!1),t.$element=e(t.element),p(t.element)){if(t.isActive=!0,t.isOpen=!0,n.hasClass(c.className.globalActive)||(n.addClass(c.className.globalActive),t.isActive=!1),n.hasClass(c.className.globalOpen)||(n.addClass(c.className.globalOpen),t.isOpen=!1),t.$parentsDepthItem=t.$element.parents("li"),t.nextDepth&&(t.$nextDepth=t.$parentsDepthItem.first().find("div[data-menu-depth]:first"),t.$nextDepth.css("max-height",d(t.$nextDepth[0]))),t.parentsDepth){t.$parentsDepth=t.$element.parents('div[data-menu-depth]:not([data-menu-depth="1"])');for(var a=0,i=t.$parentsDepth.length;a<i;a++){var s=t.$parentsDepth[a];s.style.maxHeight=d(s)+"px"}}t.$depth2=t.$parentsDepthItem.find('div[data-menu-depth="2"]'),1===c.type?(t.depth2Height=Math.max.apply(null,d(c.$depth2.get())),c.$depth1Title.css("max-height",t.depth2Height)):2!==c.type&&3!==c.type||!t.$depth2.length||(t.depth2Height=d(t.$depth2[0])),1===c.type||2===c.type?c.$depth2.css("max-height",t.depth2Height):3===c.type&&t.$depth2.css("max-height",t.depth2Height),1!==c.type&&2!==c.type&&3!==c.type||(v.style.paddingBottom=t.depth2Height+"px"),t.isActive||n.removeClass(c.className.globalActive),t.isOpen||n.removeClass(c.className.globalOpen)}return t.$element},c.addStateClass=function(t){var a=e(t).parents("li");r(u,o.state);for(var n=0,i=a.length;n<i;n++)u.addClass(o.state+(c.$depthItem.index(a[n])+1))},c.setSpy=function(e){c.$activedDepthText.length?u.menu("spy"):c.closeMenu.call(e,x)},c.openMenu=function(t){var a=e(this).parents("li"),i=a.last(),s=a.prev("li"),l=a.next("li");if(c.$depthCutItem.is(s)&&(s=s.prev("li")),c.$depthCutItem.is(l)&&(l=l.next("li")),"mouse"===c.event&&"focusin"!==t.type)c.closeMenu.call(this,t);else if("click"===c.event){var p=a.find("[data-menu-text]:first").filter("a, button").closest("li"),d=p.siblings("li");p.add(d).removeClass(o.activePrev+" "+o.active+" "+o.activeNext),d.find("div[data-menu-depth]:first").css("max-height","")}n.addClass(c.className.globalActive),s.addClass(o.activePrev),a.addClass(o.active),l.addClass(o.activeNext),c.addStateClass(i.add(i.find("div[data-menu-depth]:first-of-type ul[data-menu-list]:first > li")).filter("."+o.active).last().find("[data-menu-text]:first").filter("a, button")[0]),c.setHeight({element:this,nextDepth:!0,parentsDepth:!0}),t.stopPropagation()},c.closeMenu=function(t){var a=e(this);if("mouse"===c.event)n.removeClass(c.className.globalActive),r(u,o.state),c.$depth.css("max-height",""),c.$depth1Title.css("max-height",""),v.style.paddingBottom="",c.$depthItem.removeClass(o.activePrev+" "+o.active+" "+o.activeNext);else{var i=this,s=a.parents("li"),l=s.eq(1);if(a.is(c.$depthLastText)){var p=l.prev("li"),d=l.next("li");i=s.eq(2).find("[data-menu-text]:first").filter("a, button")[0],c.$depthCutItem.is(p)&&(p=p.prev("li")),c.$depthCutItem.is(d)&&(d=d.next("li")),p.removeClass(o.activePrev),l.removeClass(o.active),d.removeClass(o.activeNext),c.addStateClass(i),s.first().closest("div[data-menu-depth]").css("max-height","")}else{var h=s.first(),m=h.prev("li"),f=h.next("li");c.$depthCutItem.is(m)&&(m=m.prev("li")),c.$depthCutItem.is(f)&&(f=f.next("li")),m.removeClass(o.activePrev),h.removeClass(o.active),f.removeClass(o.activeNext),c.addStateClass(l.find("[data-menu-text]:first").filter("a, button")[0]),h.find("div[data-menu-depth]:first").css("max-height","")}c.setHeight({element:i,nextDepth:!1,parentsDepth:!0}),c.$depth1Text.is(i)&&(n.removeClass(c.className.globalActive),1!==c.type&&2!==c.type&&3!==c.type||(v.style.paddingBottom="",c.$depth1Title.css("max-height","")))}t.stopPropagation()},"mouse"===c.event?(c.$depthAndText.on("mouseover."+c.namespace,c.openMenu),u.on("mouseleave."+c.namespace,function(e){c.setSpy()})):(c.time=0,c.$depthText.on("click."+c.namespace,function(t){var a=e(this),n=a.closest("li"),i=n.find("div[data-menu-depth]:first"),s=(new Date).getTime(),p=i.css("transition-duration");if("string"==typeof p?"NaN"===l(p="ms"!==p.substr(-1)?1e3*parseFloat(p,10):parseFloat(p,10))&&(p=0):p=0,s-c.time>=p){var d=this.tagName.toLowerCase(),r=n.hasClass(o.active);c.time=s,("a"===d&&a.attr("href")===i.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===d)&&r?(c.setSpy(this),t.preventDefault()):i.length&&!r&&(c.openMenu.call(this,t),t.preventDefault())}else t.preventDefault()})),c.$openElement.on("click."+c.namespace,function(e){n.toggleClass(c.className.globalOpen),e.preventDefault()}).on("focusin."+c.namespace,function(e){n.removeClass(c.className.globalOpen)}),c.$closeElement.on("click."+c.namespace+" focusout."+c.namespace,function(e){n.removeClass(c.className.globalOpen),c.$openElement.focus(),"click"===e.type&&e.preventDefault()}),c.$depthText.on("focusin."+c.namespace,function(e){c.isPressTabKey&&c.openMenu.call(this,e)}).on("focusout."+c.namespace,function(e){c.isPressTabKey&&c.setSpy(this)}),a.on("keydown."+c.namespace,function(e){9===(e.keyCode||e.which)&&(c.isPressTabKey=!0),c.keydownTimer&&(clearTimeout(c.keydownTimer),c.keydownTimer=0),c.keydownTimer=setTimeout(function(){c.isPressTabKey=!1},c.interval)}),t.on("resize."+c.namespace,function(e){c.resizeTimer&&(clearTimeout(c.resizeTimer),c.resizeTimer=0),c.resizeTimer=setTimeout(function(){for(var e=c.$depthItem.filter("."+o.active).find("[data-menu-text]:first").filter("a, button").get().reverse(),t=0,a=e.length;t<a;t++)c.setHeight({element:e[t],nextDepth:!0,parentsDepth:!0})},c.interval)}),i.push({element:v,option:c}),c.setSpy()}return u}})}(jQuery)}catch(e){console.error(e)}