/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({event : string, cut : object(number : number), namespace : string, openElement : element, closeElement : element})
 * @param {jQueryElement || element} element
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=e(window),a=e(document),n=o(window.console),i=[],s="_",l={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function o(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var a=e.length,n=0;for(t=[];n<a;n++){var i=e[n],s=o(i);"window"!==s&&"document"!==s&&"element"!==s||t.push(i)}var l=t.length;t=l&&a===l?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(l.activePrev=l.active+s+l.prev,l.activeNext=l.active+s+l.next,l.actived=l.active+"d",l.activedPrev=l.actived+s+l.prev,l.activedNext=l.actived+s+l.next,"object"!==n&&"console"!==n){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var d=0,r=window.console.method.length;d<r;d++)"function"!==o(window.console[window.console.method[d]])&&(window.console[window.console.method[d]]=function(){var e=[],t=arguments.length;if(t>1)for(var a=0;a<t;a++)e.push(arguments[a]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var n=e("body");function d(e){var t=o(e),a=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(a=!0),a}function r(t){for(var a=e(t),n=[],i=0,s=a.length;i<s;i++){var l=a.eq(i),o=l[0],r="";if(d(o)){var p=o.cloneNode(!0);p.style.cssText="display:block; visibility:hidden !important; position:absolute; top:-9999px; left:-9999px; z-index:-1; height:auto; min-height:0; max-height:none; animation-name:none; transition-property:none; width:"+l.width()+"px;",l.after(p),r=e(p).outerHeight(!0),p.parentNode.removeChild(p)}n[i]=r}return 1===n.length?n=n[0]:n.length||(n=""),n}function p(t,a){for(var n=e(t),i="string"==typeof a?a.length:0,s=[],l=0,o=n.length;l<o;l++){var d=n.eq(l),r=d.attr("class");if(r)for(var p=0,c=(r=r.split(/\s/)).length;p<c;p++){var h=r[p];h.substring(0,i)===a&&(d.removeClass(h),s.push(h))}}return 1===s.length?s=s[0]:s.length||(s=n),s}e.fn.menu=function(c,h){var m,u=this.first(),v=u[0],f=o(c),g=function(t){for(var a=e(t),n=[],s=i.length,l=0,d=a.length;l<d;l++){var r=a.eq(l),p=!1,c=0;for(s=i.length;c<s;c++){var h=i[c];if("object"===o(h)&&r.is(h.element)){n.push(c),p=!0;break}}p||n.push(-1)}return 1===n.length&&(n=n[0]),n}(v),$=i[g],x=e.Event("menu");if("string"===f){if(c=c.toLowerCase(),$){var y=$.option;if("destroy"===c){var b=y.namepsace;y.$depthCutItem.remove(),u.removeClass(l.initialized),p(y.$depthItem,l.rule),n.removeClass(y.className.globalActive+" "+y.className.globalOpen),p(u,l.state),y.$depthItem.removeClass(l.has+" "+l.solo+" "+l.activePrev+" "+l.active+" "+l.activeNext+" "+l.activedPrev+" "+l.actived+" "+l.activedNext),y.$depth.css("max-height",""),y.$depth1Title.css("max-height",""),u.css("padding-bottom",""),t.off("resize."+b),a.off("keydown."+b),y.$openElement.off("click."+b+" focusin."+b),y.$closeElement.off("click."+b+" focusout."+b),u.off("mouseover."+b+" mouseleave."+b),y.$depthText.off("focusin."+b+" focusout."+b+" click."+b),y.$depthAndText.off("mouseover."+b),i.splice(g,1)}else if("spy"===c){d(h)||(h=y.$activedDepthText[0]);for(var C=e(h),w=y.$depthText.length,T=0,N=C.length;T<N;T++){var D=!1,I=C[T],k=0;for(w=y.$depthText.length;k<w;k++)y.$depthText.eq(k).is(I)&&(D=!0);D&&y.openMenu.call(I,x)}}}}else if("jQueryElement"===o(u)){$&&u.menu("destroy"),"object"!==f&&(c={}),c.namespace="string"==typeof(m=c.namespace)?m.replace(/\s/g,""):m,"string"==typeof c.namespace&&""!==c.namespace||(c.namespace=u.attr("id")||(u.attr("class")||"").split(/\s/)[0]||v.tagName.toLowercase()+(i.length+1)),"object"!==o(c.cut)&&(c.cut={}),"string"==typeof c.event&&(c.event=c.event.toLowerCase()),"mouse"!==c.event&&"click"!==c.event&&(c.event="click"),c.$openElement=e(c.openElement),c.$openElement.length||(c.$openElement=e('div[data-menu-open="'+c.namespace+'"] button:first')),c.$closeElement=e(c.closeElement),c.$closeElement.length||(c.$closeElement=e('div[data-menu-close="'+c.namespace+'"] button:first')),c.interval=250,c.className={globalActive:c.namespace+s+l.active,globalOpen:c.namespace+s+l.open},c.type=parseInt(u.attr("data-menu-type"),10),c.type&&"NaN"!==o(c.type)||(c.type=1),c.$depth=u.find("div[data-menu-depth]"),c.$depth1=c.$depth.filter('div[data-menu-depth="1"]'),c.$depth1Title=c.$depth1.find('div[data-menu-title="1"]'),c.$depth1List=c.$depth1.find('ul[data-menu-list="1"]'),c.$depth1Item=c.$depth1List.children("li"),c.$depth1Text=c.$depth1Item.find('a[data-menu-text="1"], button[data-menu-text="1"]'),c.$depth2=c.$depth.filter('[data-menu-depth="2"]'),c.$depthList=c.$depth.find("ul[data-menu-list]"),c.$depthItem=c.$depthList.children("li"),c.$depthText=c.$depth1.find("a[data-menu-text], button[data-menu-text]"),c.$depthLastText=c.$depthText.last(),c.$depthAndText=c.$depth.add(c.$depthText),c.$activedDepthText=c.$depth1.find('a[data-menu-text][data-menu-actived="true"], button[data-menu-text][data-menu-actived="true"]').last(),c.$activedDepthItem=c.$activedDepthText.parents("li"),c.$activedDepthItem.prev("li").addClass(l.activedPrev),c.$activedDepthItem.addClass(l.actived),c.$activedDepthItem.next("li").addClass(l.activedNext),u.addClass(l.initialized);for(var T in c.cut){var E=c.cut[T];"number"===o(T=parseInt(T,10))&&"number"===o(E)&&E>1&&u.find('div[data-menu-depth="'+T+'"]:first-of-type ul[data-menu-list]:first > li:nth-child('+E+"n)").next("li").prev("li").after('<li class="'+l.cut+'">&nbsp;</li>')}c.$depthCutItem=c.$depthList.children("li."+l.cut);T=0;for(var j=c.$depthList.length;T<j;T++)for(var P=c.$depthList.eq(T).children("li"),A=(k=0,P.length);k<A;k++){var L=P.eq(k);L.addClass(l.rule+(k+1)),L.find("div[data-menu-depth]:first").length?L.addClass(l.has):L.addClass(l.solo)}c.setHeight=function(t){if("object"!==o(t)&&(c={}),"boolean"!=typeof t.nextDepth&&(t.nextDepth=!1),"boolean"!=typeof t.parentsDepth&&(t.parentsDepth=!1),t.$element=e(t.element),d(t.element)){if(t.isActive=!0,t.isOpen=!0,n.hasClass(c.className.globalActive)||(n.addClass(c.className.globalActive),t.isActive=!1),n.hasClass(c.className.globalOpen)||(n.addClass(c.className.globalOpen),t.isOpen=!1),t.$parentsDepthItem=t.$element.parents("li"),t.nextDepth&&(t.$nextDepth=t.$parentsDepthItem.first().find("div[data-menu-depth]:first"),t.$nextDepth.css("max-height",r(t.$nextDepth[0]))),t.parentsDepth){t.$parentsDepth=t.$element.parents('div[data-menu-depth]:not([data-menu-depth="1"])');for(var a=0,i=t.$parentsDepth.length;a<i;a++){var s=t.$parentsDepth[a];s.style.maxHeight=r(s)+"px"}}t.$depth2=t.$parentsDepthItem.find('div[data-menu-depth="2"]'),1===c.type?(t.depth2Height=Math.max.apply(null,r(c.$depth2.get())),c.$depth1Title.css("max-height",t.depth2Height)):2!==c.type&&3!==c.type||!t.$depth2.length||(t.depth2Height=r(t.$depth2[0])),1===c.type||2===c.type?c.$depth2.css("max-height",t.depth2Height):3===c.type&&t.$depth2.css("max-height",t.depth2Height),1!==c.type&&2!==c.type&&3!==c.type||(v.style.paddingBottom=t.depth2Height+"px"),t.isActive||n.removeClass(c.className.globalActive),t.isOpen||n.removeClass(c.className.globalOpen)}return t.$element},c.addStateClass=function(t){var a=e(t).parents("li");p(u,l.state);for(var n=0,i=a.length;n<i;n++)u.addClass(l.state+(c.$depthItem.index(a[n])+1))},c.setSpy=function(e){c.$activedDepthText.length?u.menu("spy"):c.closeMenu.call(e,x)},c.openMenu=function(t){var a=e(this).parents("li"),i=a.last(),s=a.prev("li"),o=a.next("li");if(c.$depthCutItem.is(s)&&(s=s.prev("li")),c.$depthCutItem.is(o)&&(o=o.next("li")),"mouse"===c.event&&"focusin"!==t.type)c.closeMenu.call(this,t);else if("click"===c.event){var d=a.find("[data-menu-text]:first").filter("a, button").closest("li"),r=d.siblings("li");d.add(r).removeClass(l.activePrev+" "+l.active+" "+l.activeNext),r.find("div[data-menu-depth]:first").css("max-height","")}n.addClass(c.className.globalActive),s.addClass(l.activePrev),a.addClass(l.active),o.addClass(l.activeNext),c.addStateClass(i.add(i.find("div[data-menu-depth]:first-of-type ul[data-menu-list]:first > li")).filter("."+l.active).last().find("[data-menu-text]:first").filter("a, button")[0]),c.setHeight({element:this,nextDepth:!0,parentsDepth:!0}),t.stopPropagation()},c.closeMenu=function(t){var a=e(this);if("mouse"===c.event)n.removeClass(c.className.globalActive),p(u,l.state),c.$depth.css("max-height",""),c.$depth1Title.css("max-height",""),v.style.paddingBottom="",c.$depthItem.removeClass(l.activePrev+" "+l.active+" "+l.activeNext);else{var i=this,s=a.parents("li"),o=s.eq(1);if(a.is(c.$depthLastText)){var d=o.prev("li"),r=o.next("li");i=s.eq(2).find("[data-menu-text]:first").filter("a, button")[0],c.$depthCutItem.is(d)&&(d=d.prev("li")),c.$depthCutItem.is(r)&&(r=r.next("li")),d.removeClass(l.activePrev),o.removeClass(l.active),r.removeClass(l.activeNext),c.addStateClass(i),s.first().closest("div[data-menu-depth]").css("max-height","")}else{var h=s.first(),m=h.prev("li"),f=h.next("li");c.$depthCutItem.is(m)&&(m=m.prev("li")),c.$depthCutItem.is(f)&&(f=f.next("li")),m.removeClass(l.activePrev),h.removeClass(l.active),f.removeClass(l.activeNext),c.addStateClass(o.find("[data-menu-text]:first").filter("a, button")[0]),h.find("div[data-menu-depth]:first").css("max-height","")}c.setHeight({element:i,nextDepth:!1,parentsDepth:!0}),c.$depth1Text.is(i)&&(n.removeClass(c.className.globalActive),1!==c.type&&2!==c.type&&3!==c.type||(v.style.paddingBottom="",c.$depth1Title.css("max-height","")))}t.stopPropagation()},"mouse"===c.event?(c.$depthAndText.on("mouseover."+c.namespace,c.openMenu),u.on("mouseover."+c.namespace,function(e){n.hasClass(c.className.globalActive)&&c.openMenu.call(this,e)}).on("mouseleave."+c.namespace,function(e){c.setSpy()})):(c.time=0,c.$depthText.on("click."+c.namespace,function(t){var a=e(this),n=a.closest("li"),i=n.find("div[data-menu-depth]:first"),s=(new Date).getTime(),d=i.css("transition-duration");if("string"==typeof d?"NaN"===o(d="ms"!==d.substr(-1)?1e3*parseFloat(d,10):parseFloat(d,10))&&(d=0):d=0,s-c.time>=d){var r=this.tagName.toLowerCase(),p=n.hasClass(l.active);c.time=s,("a"===r&&a.attr("href")===i.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===r)&&p?(c.setSpy(this),t.preventDefault()):i.length&&!p&&(c.openMenu.call(this,t),t.preventDefault())}else t.preventDefault()})),c.$openElement.on("click."+c.namespace,function(e){n.toggleClass(c.className.globalOpen),e.preventDefault()}).on("focusin."+c.namespace,function(e){n.removeClass(c.className.globalOpen)}),c.$closeElement.on("click."+c.namespace+" focusout."+c.namespace,function(e){n.removeClass(c.className.globalOpen),c.$openElement.focus(),"click"===e.type&&e.preventDefault()}),c.$depthText.on("focusin."+c.namespace,function(e){c.isPressTabKey&&c.openMenu.call(this,e)}).on("focusout."+c.namespace,function(e){c.isPressTabKey&&c.setSpy(this)}),a.on("keydown."+c.namespace,function(e){9===(e.keyCode||e.which)&&(c.isPressTabKey=!0),c.keydownTimer&&(clearTimeout(c.keydownTimer),c.keydownTimer=0),c.keydownTimer=setTimeout(function(){c.isPressTabKey=!1},c.interval)}),t.on("resize."+c.namespace,function(e){c.resizeTimer&&(clearTimeout(c.resizeTimer),c.resizeTimer=0),c.resizeTimer=setTimeout(function(){for(var e=c.$depthItem.filter("."+l.active).find("[data-menu-text]:first").filter("a, button").get().reverse(),t=0,a=e.length;t<a;t++)c.setHeight({element:e[t],nextDepth:!0,parentsDepth:!0})},c.interval)}),i.push({element:v,option:c}),c.setSpy()}return u}})}(jQuery)}catch(e){console.error(e)}