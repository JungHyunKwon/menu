/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({event : string, cut : object(number : number), namespace : string, openElement : element, closeElement : element})
 * @param {jQueryElement || element} element
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=window.getComputedStyle,a=e(window),n=e(document),i=d(window.console),s=[],l="_",o={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function d(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var a=e.length,n=0;for(t=[];n<a;n++){var i=e[n],s=d(i);"window"!==s&&"document"!==s&&"element"!==s||t.push(i)}var l=t.length;t=l&&a===l?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(o.activePrev=o.active+l+o.prev,o.activeNext=o.active+l+o.next,o.actived=o.active+"d",o.activedPrev=o.actived+l+o.prev,o.activedNext=o.actived+l+o.next,"object"!==i&&"console"!==i){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var p=0,r=window.console.method.length;p<r;p++)"function"!==d(window.console[window.console.method[p]])&&(window.console[window.console.method[p]]=function(){var e=[],t=arguments.length;if(t>1)for(var a=0;a<t;a++)e.push(arguments[a]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var i=e("body");function p(e){var t=d(e),a=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(a=!0),a}function r(a){for(var n=e(a),i=[],s=0,l=n.length;s<l;s++){var o=n.eq(s)[0],d="";if(p(o)){var r=o.parentNode,c=o.cloneNode(!0),h=t?t(c,null):c.currentStyle,m=c.style;m.cssText="display:block; visibility:hidden !important; position:absolute; top:-9999px; left:-9999px; z-index:-1; height:auto; min-height:0; max-height:none; animation-name:none; transition-property:none;",r.appendChild(c),m.width=c.clientWidth+"px",d=c.offsetHeight+parseInt(h.marginTop,10)+parseInt(h.marginBottom,10),r.removeChild(c)}i[s]=d}return 1===i.length?i=i[0]:i.length||(i=""),i}function c(t,a){for(var n=e(t),i="string"==typeof a?a.length:0,s=[],l=0,o=n.length;l<o;l++){var d=n.eq(l),p=d.attr("class");if(p)for(var r=0,c=(p=p.split(/\s/)).length;r<c;r++){var h=p[r];h.substring(0,i)===a&&(d.removeClass(h),s.push(h))}}return 1===s.length?s=s[0]:s.length||(s=n),s}e.fn.menu=function(t,h){var m,u=this.first(),v=u[0],f=d(t),g=function(t){for(var a=e(t),n=[],i=s.length,l=0,o=a.length;l<o;l++){var p=a.eq(l),r=!1,c=0;for(i=s.length;c<i;c++){var h=s[c];if("object"===d(h)&&p.is(h.element)){n.push(c),r=!0;break}}r||n.push(-1)}return 1===n.length&&(n=n[0]),n}(v),$=s[g],x=e.Event("menu");if("string"===f){if(t=t.toLowerCase(),$){var y=$.option;if("destroy"===t){var b=y.namespace;y.$depthCutItem.remove(),u.removeClass(o.initialized),c(y.$depthItem,o.rule),i.removeClass(y.className.globalActive+" "+y.className.globalOpen),c(u,o.state),y.$depthItem.removeClass(o.has+" "+o.solo+" "+o.activePrev+" "+o.active+" "+o.activeNext+" "+o.activedPrev+" "+o.actived+" "+o.activedNext),y.$depth.css("max-height",""),y.$depth1Title.css("max-height",""),u.css("padding-bottom",""),a.off("resize."+b),n.off("keydown."+b),y.$openElement.off("click."+b+" focusin."+b),y.$closeElement.off("click."+b+" focusout."+b),u.off("mouseover."+b+" mouseleave."+b),y.$depthText.off("focusin."+b+" focusout."+b+" click."+b),y.$depthAndText.off("mouseover."+b),s.splice(g,1)}else if("spy"===t){p(h)||(h=y.$activedDepthText[0]);for(var C=e(h),w=y.$depthText.length,T=0,N=C.length;T<N;T++){var D=!1,I=C[T],k=0;for(w=y.$depthText.length;k<w;k++)y.$depthText.eq(k).is(I)&&(D=!0);D&&y.openMenu.call(I,x)}}}}else if("jQueryElement"===d(u)){$&&u.menu("destroy"),"object"!==f&&(t={}),t.namespace="string"==typeof(m=t.namespace)?m.replace(/\s/g,""):m,"string"==typeof t.namespace&&""!==t.namespace||(t.namespace=u.attr("id")||(u.attr("class")||"").split(/\s/)[0]||v.tagName.toLowercase()+(s.length+1)),"object"!==d(t.cut)&&(t.cut={}),"string"==typeof t.event&&(t.event=t.event.toLowerCase()),"mouse"!==t.event&&"click"!==t.event&&(t.event="click"),t.$openElement=e(t.openElement),t.$openElement.length||(t.$openElement=e('div[data-menu-open="'+t.namespace+'"] [data-menu-button]')),t.$closeElement=e(t.closeElement),t.$closeElement.length||(t.$closeElement=e('div[data-menu-close="'+t.namespace+'"] [data-menu-button]')),t.interval=250,t.className={globalActive:t.namespace+l+o.active,globalOpen:t.namespace+l+o.open},t.type=parseInt(u.attr("data-menu-type"),10),t.type&&"NaN"!==d(t.type)||(t.type=1),t.$depth=u.find("div[data-menu-depth]"),t.$depth1=t.$depth.filter('div[data-menu-depth="1"]'),t.$depth1Title=t.$depth1.find('div[data-menu-title="1"]'),t.$depth1List=t.$depth1.find('ul[data-menu-list="1"]'),t.$depth1Item=t.$depth1List.children("li"),t.$depth1Text=t.$depth1Item.find('a[data-menu-text="1"], button[data-menu-text="1"]'),t.$depth2=t.$depth.filter('[data-menu-depth="2"]'),t.$depthList=t.$depth.find("ul[data-menu-list]"),t.$depthItem=t.$depthList.children("li"),t.$depthText=t.$depth1.find("a[data-menu-text], button[data-menu-text]"),t.$depthLastText=t.$depthText.last(),t.$depthAndText=t.$depth.not('div[data-menu-depth="1"]').add(t.$depthText),t.$activedDepthText=t.$depth1.find("a[data-menu-text][data-menu-actived], button[data-menu-text][data-menu-actived]").last(),t.$activedDepthItem=t.$activedDepthText.parents("li"),t.$activedDepthItem.prev("li").addClass(o.activedPrev),t.$activedDepthItem.addClass(o.actived),t.$activedDepthItem.next("li").addClass(o.activedNext),u.addClass(o.initialized);for(var T in t.cut){var E=t.cut[T];"number"===d(T=parseInt(T,10))&&"number"===d(E)&&E>1&&u.find('div[data-menu-depth="'+T+'"]:first-of-type ul[data-menu-list]:first > li:nth-child('+E+"n)").next("li").prev("li").after('<li class="'+o.cut+'">&nbsp;</li>')}t.$depthCutItem=t.$depthList.children("li."+o.cut);T=0;for(var j=t.$depthList.length;T<j;T++)for(var P=t.$depthList.eq(T).children("li"),A=(k=0,P.length);k<A;k++){var S=P.eq(k);S.addClass(o.rule+(k+1)),S.find("div[data-menu-depth]:first").length?S.addClass(o.has):S.addClass(o.solo)}t.setHeight=function(a){if("object"!==d(a)&&(t={}),"boolean"!=typeof a.nextDepth&&(a.nextDepth=!1),"boolean"!=typeof a.parentsDepth&&(a.parentsDepth=!1),a.$element=e(a.element),p(a.element)&&"window"!==d(a.element)){if(a.isActive=!0,a.isOpen=!0,i.hasClass(t.className.globalActive)||(i.addClass(t.className.globalActive),a.isActive=!1),i.hasClass(t.className.globalOpen)||(i.addClass(t.className.globalOpen),a.isOpen=!1),a.$parentsDepthItem=a.$element.parents("li"),a.nextDepth&&(a.$nextDepth=a.$parentsDepthItem.first().find("div[data-menu-depth]:first"),a.$nextDepth.css("max-height",r(a.$nextDepth[0]))),a.parentsDepth){a.$parentsDepth=a.$element.parents('div[data-menu-depth]:not([data-menu-depth="1"])');for(var n=0,s=a.$parentsDepth.length;n<s;n++){var l=a.$parentsDepth[n];l.style.maxHeight=r(l)+"px"}}a.$depth2=a.$parentsDepthItem.find('div[data-menu-depth="2"]'),1===t.type?(a.depth2Height=Math.max.apply(null,r(t.$depth2.get())),t.$depth1Title.css("max-height",a.depth2Height)):2!==t.type&&3!==t.type||!a.$depth2.length||(a.depth2Height=r(a.$depth2[0])),1===t.type||2===t.type?t.$depth2.css("max-height",a.depth2Height):3===t.type&&a.$depth2.css("max-height",a.depth2Height),1!==t.type&&2!==t.type&&3!==t.type||(v.style.paddingBottom=a.depth2Height+"px"),a.isActive||i.removeClass(t.className.globalActive),a.isOpen||i.removeClass(t.className.globalOpen)}return a.$element},t.addStateClass=function(a){var n=e(a).parents("li");c(u,o.state);for(var i=0,s=n.length;i<s;i++)u.addClass(o.state+(t.$depthItem.index(n[i])+1))},t.setSpy=function(e){t.$activedDepthText.length?u.menu("spy"):t.closeMenu.call(e,x)},t.openMenu=function(a){var n=e(this).parents("li"),s=n.last(),l=n.prev("li"),d=n.next("li");if(t.$depthCutItem.is(l)&&(l=l.prev("li")),t.$depthCutItem.is(d)&&(d=d.next("li")),"mouse"===t.event&&"focusin"!==a.type)t.closeMenu.call(this,a);else if("click"===t.event){var p=n.find("[data-menu-text]:first").filter("a, button").closest("li"),r=p.siblings("li");p.add(r).removeClass(o.activePrev+" "+o.active+" "+o.activeNext),r.find("div[data-menu-depth]:first").css("max-height","")}i.addClass(t.className.globalActive),l.addClass(o.activePrev),n.addClass(o.active),d.addClass(o.activeNext),t.addStateClass(s.add(s.find("div[data-menu-depth]:first-of-type ul[data-menu-list]:first > li")).filter("."+o.active).last().find("[data-menu-text]:first").filter("a, button")[0]),t.setHeight({element:this,nextDepth:!0,parentsDepth:!0}),a.stopPropagation()},t.closeMenu=function(a){var n=e(this);if("mouse"===t.event)i.removeClass(t.className.globalActive),c(u,o.state),t.$depth.css("max-height",""),t.$depth1Title.css("max-height",""),v.style.paddingBottom="",t.$depthItem.removeClass(o.activePrev+" "+o.active+" "+o.activeNext);else{var s=this,l=n.parents("li"),d=l.eq(1);if(n.is(t.$depthLastText)){var p=d.prev("li"),r=d.next("li");s=l.eq(2).find("[data-menu-text]:first").filter("a, button")[0],t.$depthCutItem.is(p)&&(p=p.prev("li")),t.$depthCutItem.is(r)&&(r=r.next("li")),p.removeClass(o.activePrev),d.removeClass(o.active),r.removeClass(o.activeNext),t.addStateClass(s),l.first().closest("div[data-menu-depth]").css("max-height","")}else{var h=l.first(),m=h.prev("li"),f=h.next("li");t.$depthCutItem.is(m)&&(m=m.prev("li")),t.$depthCutItem.is(f)&&(f=f.next("li")),m.removeClass(o.activePrev),h.removeClass(o.active),f.removeClass(o.activeNext),t.addStateClass(d.find("[data-menu-text]:first").filter("a, button")[0]),h.find("div[data-menu-depth]:first").css("max-height","")}t.setHeight({element:s,nextDepth:!1,parentsDepth:!0}),t.$depth1Text.is(s)&&(i.removeClass(t.className.globalActive),1!==t.type&&2!==t.type&&3!==t.type||(v.style.paddingBottom="",t.$depth1Title.css("max-height",""),t.$depth2.css("max-height","")))}a.stopPropagation()},"mouse"===t.event?(t.$depthAndText.on("mouseover."+t.namespace,t.openMenu),u.on("mouseover."+t.namespace,function(e){i.hasClass(t.className.globalActive)&&t.openMenu.call(this,e)}).on("mouseleave."+t.namespace,function(e){t.setSpy(this)})):(t.time=0,t.$depthText.on("click."+t.namespace,function(a){var n=e(this),i=n.closest("li"),s=i.find("div[data-menu-depth]:first"),l=(new Date).getTime(),p=s.css("transition-duration");if("string"==typeof p?"NaN"===d(p="ms"!==p.substr(-1)?1e3*parseFloat(p,10):parseFloat(p,10))&&(p=0):p=0,l-t.time>=p){var r=this.tagName.toLowerCase(),c=i.hasClass(o.active);t.time=l,("a"===r&&n.attr("href")===s.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===r)&&c?(t.setSpy(this),a.preventDefault()):s.length&&!c&&(t.openMenu.call(this,a),a.preventDefault())}else a.preventDefault()})),t.$openElement.on("click."+t.namespace,function(e){i.toggleClass(t.className.globalOpen),e.preventDefault()}).on("focusin."+t.namespace,function(e){i.removeClass(t.className.globalOpen)}),t.$closeElement.on("click."+t.namespace+" focusout."+t.namespace,function(e){i.removeClass(t.className.globalOpen),t.$openElement.focus(),"click"===e.type&&e.preventDefault()}),t.$depthText.on("focusin."+t.namespace,function(e){t.isPressTabKey&&t.openMenu.call(this,e)}).on("focusout."+t.namespace,function(e){t.isPressTabKey&&t.setSpy(this)}),n.on("keydown."+t.namespace,function(e){9===(e.keyCode||e.which)&&(t.isPressTabKey=!0),t.keydownTimer&&(clearTimeout(t.keydownTimer),t.keydownTimer=0),t.keydownTimer=setTimeout(function(){t.isPressTabKey=!1},t.interval)}),a.on("resize."+t.namespace,function(e){t.resizeTimer&&(clearTimeout(t.resizeTimer),t.resizeTimer=0),t.resizeTimer=setTimeout(function(){for(var e=t.$depthItem.filter("."+o.active).find("[data-menu-text]:first").filter("a, button").get().reverse(),a=0,n=e.length;a<n;a++)t.setHeight({element:e[a],nextDepth:!0,parentsDepth:!0})},t.interval)}),s.push({element:v,option:t}),t.setSpy()}return u}})}(jQuery)}catch(e){console.error(e)}