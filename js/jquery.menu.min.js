/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({cut : number, namespace : string, openElement : element, closeElement : element})
 * @param {jQueryElement || element} element
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=e(document),n=s(window.console),a=[],i="_",o={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut"};function s(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var n=window.jQuery.map(e,function(e,t){var n=s(e);if("window"===n||"document"===n||"element"===n)return e}).length;t=n&&e.length===n?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(o.activePrev=o.active+i+o.prev,o.activeNext=o.active+i+o.next,o.actived=o.active+"d",o.activedPrev=o.actived+i+o.prev,o.activedNext=o.actived+i+o.next,"object"!==n&&"console"!==n){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var h=0,d=window.console.method.length;h<d;h++)"function"!==s(window.console[window.console.method[h]])&&(window.console[window.console.method[h]]=function(){var e=[],t=arguments.length;if(t>1)for(var n=0;n<t;n++)e.push(arguments[n]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var n=e("body");function h(e){var t=s(e),n=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(n=!0),n}function d(t){return"object"!==s(t)&&(t={}),"string"===s(t.method)&&(t.method=t.method.toLowerCase()),t.noneDurationType=s(t.noneDuration),"string"===t.noneDurationType?t.noneDuration=t.noneDuration.toLowerCase():"boolean"!==t.noneDurationType&&(t.noneDuration=!1),"boolean"!==s(t.showElement)&&(t.showElement=!1),"boolean"!==s(t.showParents)&&(t.showParents=!1),"boolean"!==s(t.changeAuto)&&(t.changeAuto=!1),t.$element=e(t.element),t.result=[],t.$element.each(function(n,a){var i=e(a),o="";if(h(a)){var s="clone"+(new Date).getTime();i.addClass(s);var d=e(i.parents().eq(-3)[0]||i[0]),r=d.clone(!0);r.css({visibility:"hidden",width:d.width(),height:d.height(),position:"absolute",top:"-100%",left:"-100%",zIndex:-1}),r.appendTo("body"),i.removeClass(s);var l=r.find("."+s);if(l.removeClass(s),t.showParents)l.parents().not("html, body").show(0);t.showElement&&l.show(0),t.noneDuration?l.css({animationName:"none",transitionProperty:"none"}):"animation"===t.noneDuration?l.css("animation-name","none"):"transition"===t.noneDuration&&l.css("transition-property","none"),t.changeAuto&&("outerwidth(true)"===t.method||"outerwidth"===t.method||"innerwidth"===t.method||"width"===t.method?l.css({width:"auto",minWidth:0,maxWidth:"none"}):"outerheight(true)"===t.method||"outerheight"===t.method||"innerheight"===t.method||"height"===t.method?l.css({height:"auto",minHeight:0,maxHeight:"none"}):l.css({width:"auto",minWidth:0,maxWidth:"none",height:"auto",minHeight:0,maxHeight:"none"})),"outerwidth(true)"===t.method?o=l.outerWidth(!0):"outerwidth"===t.method?o=l.outerWidth():"innerwidth"===t.method?o=l.innerWidth():"width"===t.method?o=l.width():"outerheight(true)"===t.method?o=l.outerHeight(!0):"outerheight"===t.method?o=l.outerHeight():"innerheight"===t.method?o=l.innerHeight():"height"===t.method&&(o=l.height()),r.remove()}t.result.push(o)}),1===t.result.length?t.result=t.result[0]:t.result.length||(t.result=""),t.result}function r(t,n){var a=e(t),i="string"===s(n)?n.length:0,o=[];return a.each(function(t,a){var s=e(a),h=s.attr("class");if(h)for(var d=0,r=(h=h.split(/\s/)).length;d<r;d++)h[d].substring(0,i)===n&&(s.removeClass(h[d]),o.push(h[d]))}),1===o.length?o=o[0]:o.length||(o=a),o}e.fn.menu=function(l,p){var c,u,m,f=this.first(),v=s(l),g=(c=f[0],u=[],e(c).each(function(t,n){for(var i=e(n),o=!1,h=0,d=a.length;h<d;h++)if("object"===s(a[h])&&i.is(a[h].element)){u.push(h),o=!0;break}o||u.push(-1)}),1===u.length&&(u=u[0]),u),$=e.Event("menu");return"string"===v?(l=l.toLowerCase(),g>-1&&("destroy"===l?(a[g].option.$depth2CutItem.remove(),r(a[g].option.$depthItem,o.rule),n.removeClass(a[g].option.className.globalActive+" "+a[g].option.className.globalOpen),r(f,o.state),a[g].option.$depthItem.removeClass(o.has+" "+o.solo+" "+o.activePrev+" "+o.active+" "+o.activeNext+" "+o.activedPrev+" "+o.actived+" "+o.activedNext),a[g].option.$depth.css("max-height",""),f.css("padding-bottom",""),t.off("keydown."+a[g].option.namespace+" keyup."+a[g].option.namespace),a[g].option.$openElement.off("click."+a[g].option.namespace+" focusin."+a[g].option.namespace),a[g].option.$closeElement.off("click."+a[g].option.namespace+" focusout."+a[g].option.namespace),f.off("mouseleave."+a[g].option.namespace),a[g].option.$depthFirstText.off("focusout."+a[g].option.namespace),a[g].option.$depthLastText.off("focusout."+a[g].option.namespace),a[g].option.$depthText.off("focusin."+a[g].option.namespace+" click."+a[g].option.namespace),a[g].option.$depthAndText.off("mouseenter."+a[g].option.namespace),a.splice(g,1)):"spy"===l&&(h(p)||(p=a[g].option.$activedDepthText[0]),e(p).each(function(t,n){var i=!1;a[g].option.$depthText.each(function(t,a){e(a).is(n)&&(i=!0)}),i&&a[g].option.openMenu.call(n,$)})))):"jQueryElement"===s(f)&&(g>-1&&f.menu("destroy"),"object"!==v&&(l={}),l.namespace="string"===s(m=l.namespace)?m.replace(/\s/g,""):m,"string"===s(l.namespace)&&""!==l.namespace||(l.namespace="menu"),"number"!==s(l.cut)&&(l.cut=0),"string"===s(l.event)&&(l.event=l.event.toLowerCase()),"mouse"!==l.event&&"click"!==l.event&&(l.event="click"),l.$openElement=e(l.openElement),l.$closeElement=e(l.closeElement),l.className={globalActive:l.namespace+i+o.active,globalOpen:l.namespace+i+o.open},l.type=parseInt(f.attr("data-menu-type"),10),l.type&&"NaN"!==s(l.type)||(l.type=1),l.$depth=f.find("div[data-menu-depth]"),l.$depth1=l.$depth.filter('div[data-menu-depth="1"]'),l.$depth1List=l.$depth1.find('ul[data-menu-list="1"]'),l.$depth1Item=l.$depth1List.children("li"),l.$depth1FirstItem=l.$depth1Item.first(),l.$depth1Text=l.$depth1Item.find('a[data-menu-text="1"], button[data-menu-text="1"]'),l.$depth2=l.$depth.filter('[data-menu-depth="2"]'),l.$depthList=l.$depth.find("ul[data-menu-list]"),l.$depth2List=l.$depth2.find('ul[data-menu-list="2"]'),l.$depthItem=l.$depthList.children("li"),l.$depthText=l.$depthItem.find("a[data-menu-text], button[data-menu-text]"),l.$depthFirstText=l.$depthText.first(),l.$depthLastText=l.$depthText.last(),l.$depthAndText=l.$depth.add(l.$depthText),l.$activedDepthText=l.$depthItem.find('a[data-menu-text][data-menu-actived="true"], button[data-menu-text][data-menu-actived="true"]').last(),l.$activedDepthItem=l.$activedDepthText.parents("li"),l.$activedDepthItem.prev("li").addClass(o.activedPrev),l.$activedDepthItem.addClass(o.actived),l.$activedDepthItem.next("li").addClass(o.activedNext),l.cut>0&&l.$depth2List.children("li:nth-child("+l.cut+"n)").next("li").prev("li").after('<li class="'+o.cut+'">&nbsp;</li>'),l.$depth2CutItem=l.$depthList.children("li."+o.cut),l.$depthList.each(function(t,n){e(n).children("li").each(function(t,n){var a=e(n);a.addClass(o.rule+(t+1)),a.find("div[data-menu-depth]:first").length?a.addClass(o.has):a.addClass(o.solo)})}),l.setHeight=function(t){return"object"!==s(t)&&(l={}),"boolean"!==s(t.nextDepth)&&(t.nextDepth=!1),"boolean"!==s(t.parentsDepth)&&(t.parentsDepth=!1),t.$element=e(t.element),h(t.element)&&(t.$parentsDepthItem=t.$element.parents("li"),t.nextDepth&&(t.$nextDepth=t.$parentsDepthItem.first().find("div[data-menu-depth]:first"),t.$nextDepth.css("max-height",d({element:t.$nextDepth[0],method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:!0}))),t.parentsDepth&&t.$element.parents('div[data-menu-depth]:not([data-menu-depth="1"])').each(function(t,n){e(n).css("max-height",d({element:n,method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:!0}))}),l.isHorizontalLayout()&&(t.$depth2=t.$parentsDepthItem.find('div[data-menu-depth="2"]'),1===l.type?t.depth2Height=Math.max.apply(null,d({element:l.$depth2.get(),method:"outerheight(true)",noneDuration:!0,showElement:!0,changeAuto:!0,showParents:!0})):2!==l.type&&3!==l.type||(t.depth2Height=d({element:t.$depth2[0],method:"outerheight(true)",noneDuration:!0,showElement:!0,showParents:!0,changeAuto:!0})),1===l.type||2===l.type?l.$depth2.css("max-height",t.depth2Height):3===l.type&&t.$depth2.css("max-height",t.depth2Height),1!==l.type&&2!==l.type&&3!==l.type||f.css("padding-bottom",t.depth2Height))),t.$element},l.addStateClass=function(t){var n=e(t);r(f,o.state),n.parents("li").each(function(e,t){f.addClass(o.state+(l.$depthItem.index(t)+1))})},l.setSpy=function(e){l.$activedDepthText.length?f.menu("spy"):l.closeMenu.call(e,$)},l.isHorizontalLayout=function(){var e=!1,t=l.$depth1FirstItem.css("float");return"left"!==t&&"right"!==t||(e=!0),e},l.openMenu=function(t){var a=e(this).parents("li"),i=a.last(),s=a.prev("li"),h=a.next("li"),d=a.find("[data-menu-text]:first").filter("a, button"),r=d.closest("li"),p=r.siblings("li"),c=p.find("div[data-menu-depth]:first");l.$depth2CutItem.is(s)&&(s=s.prev("li")),l.$depth2CutItem.is(h)&&(h=h.next("li")),"mouse"===l.event?l.closeMenu.call(this,t):(r.add(p).removeClass(o.activePrev+" "+o.active+" "+o.activeNext),c.css("max-height",""),d.each(function(e,t){l.setHeight({element:t,nextDepth:!1,parentsDepth:!0})})),n.addClass(l.className.globalActive),s.addClass(o.activePrev),a.addClass(o.active),h.addClass(o.activeNext),l.addStateClass(i.add(i.find("ul[data-menu-list] > li")).filter("."+o.active).last().find("a[data-menu-text], button[data-menu-text]").first()[0]),l.setHeight({element:this,nextDepth:!0,parentsDepth:!0}),t.stopPropagation()},l.closeMenu=function(t){var a=e(this),i=a.parents("li"),s=i.first(),h=s.prev("li"),d=s.next("li"),p=s.find("div[data-menu-depth]:first"),c=i.eq(1),u=c.prev("li"),m=c.next("li"),v=c.find("a[data-menu-text], button[data-menu-text]").first();"mouse"===l.event?(n.removeClass(l.className.globalActive),r(f,o.state),l.$depth.css("max-height",""),f.css("padding-bottom",""),l.$depthItem.removeClass(o.activePrev+" "+o.active+" "+o.activeNext)):(a.is(l.$depthLastText)?(l.$depth2CutItem.is(u)&&(u=u.prev("li")),l.$depth2CutItem.is(m)&&(m=m.next("li")),u.removeClass(o.activePrev),c.removeClass(o.active),m.removeClass(o.activeNext),l.addStateClass(v[0]),i.first().closest("div[data-menu-depth]").css("max-height",""),l.setHeight({element:v[0],nextDepth:!1,parentsDepth:!0})):(l.$depth2CutItem.is(h)&&(h=h.prev("li")),l.$depth2CutItem.is(d)&&(d=d.next("li")),h.removeClass(o.activePrev),s.removeClass(o.active),d.removeClass(o.activeNext),l.addStateClass(i.eq(1).find("a[data-menu-text], button[data-menu-text]").first()[0]),p.css("max-height",""),l.setHeight({element:this,nextDepth:!1,parentsDepth:!0})),l.$depth1Text.is(this)&&(n.removeClass(l.className.globalActive),l.isHorizontalLayout()&&f.css("padding-bottom",""))),t.stopPropagation()},"mouse"===l.event?(l.$depthAndText.on("mouseenter."+l.namespace,function(e){l.openMenu.call(this,e)}),f.on("mouseleave."+l.namespace,function(e){l.setSpy()})):(l.time=0,l.$depthText.on("click."+l.namespace,function(t){var n=e(this),a=n.closest("li"),i=a.find("div[data-menu-depth]:first"),h=this.tagName.toLowerCase(),d=a.hasClass(o.active),r=(new Date).getTime(),p=i.css("transition-duration");"string"===s(p)?"NaN"===s(p="ms"!==p.substr(-1)?1e3*parseFloat(p,10):parseFloat(p,10))&&(p=0):p=0,r-l.time>=p?(l.time=r,("a"===h&&n.attr("href")===i.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===h)&&d?(l.setSpy(this),t.preventDefault()):i.length&&!d&&(l.openMenu.call(this,t),t.preventDefault())):t.preventDefault()})),l.$openElement.on("click."+l.namespace,function(e){n.toggleClass(l.className.globalOpen),e.preventDefault()}).on("focusin."+l.namespace,function(e){n.removeClass(l.className.globalOpen)}),l.$closeElement.on("click."+l.namespace+" focusout."+l.namespace,function(e){n.removeClass(l.className.globalOpen),l.$openElement.focus(),e.preventDefault()}),l.$depthText.on("focusin."+l.namespace,function(e){!l.isPressShiftKey&&l.isPressTabKey&&l.openMenu.call(this,e)}),l.$depthFirstText.on("focusout."+l.namespace,function(e){l.isPressShiftKey&&l.isPressTabKey&&l.setSpy(this)}),l.$depthLastText.on("focusout."+l.namespace,function(e){!l.isPressShiftKey&&l.isPressTabKey&&l.setSpy(this)}),t.on("keydown."+l.namespace,function(e){9===(e.keyCode||e.which)&&(l.isPressTabKey=!0),e.shiftKey&&(l.isPressShiftKey=!0)}).on("keyup."+l.namespace,function(e){9===(e.keyCode||e.which)&&(l.isPressTabKey=!1),e.shiftKey&&(l.isPressShiftKey=!1)}),a.push({element:f[0],option:l}),f.menu("spy")),f}})}(jQuery)}catch(e){console.error(e)}