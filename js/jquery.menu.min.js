/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({event : string, cut : object(number : number), namespace : string, openElement : element, closeElement : element})
 * @param {jQueryElement || element} element
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=e(window),a=e(document),n=o(window.console),s=[],i="_",l={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function o(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var a=e.length,n=0;for(t=[];n<a;n++){var s=e[n],i=o(s);"window"!==i&&"document"!==i&&"element"!==i||t.push(s)}var l=t.length;t=l&&a===l?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(l.activePrev=l.active+i+l.prev,l.activeNext=l.active+i+l.next,l.actived=l.active+"d",l.activedPrev=l.actived+i+l.prev,l.activedNext=l.actived+i+l.next,"object"!==n&&"console"!==n){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var d=0,p=window.console.method.length;d<p;d++)"function"!==o(window.console[window.console.method[d]])&&(window.console[window.console.method[d]]=function(){var e=[],t=arguments.length;if(t>1)for(var a=0;a<t;a++)e.push(arguments[a]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var n=e("body");function d(e){var t=o(e),a=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(a=!0),a}function p(t){for(var a=e(t),n=[],s=0,i=a.length;s<i;s++){var l=a.eq(s),o=l[0],p="";if(d(o)){var r=o.cloneNode(!0);r.style.cssText="display:block; visibility:hidden !important; position:absolute; top:-9999px; left:-9999px; z-index:-1; height:auto; min-height:0; max-height:none; animation-name:none; transition-property:none; width:"+l.width()+"px;",l.after(r),p=e(r).outerHeight(!0),r.parentNode.removeChild(r)}n[s]=p}return 1===n.length?n=n[0]:n.length||(n=""),n}function r(t,a){for(var n=e(t),s="string"==typeof a?a.length:0,i=[],l=0,o=n.length;l<o;l++){var d=n.eq(l),p=d.attr("class");if(p)for(var r=0,c=(p=p.split(/\s/)).length;r<c;r++){var m=p[r];m.substring(0,s)===a&&(d.removeClass(m),i.push(m))}}return 1===i.length?i=i[0]:i.length||(i=n),i}e.fn.menu=function(c,m){var h,u=this.first(),v=u[0],f=o(c),g=function(t){for(var a=e(t),n=[],i=s.length,l=0,d=a.length;l<d;l++){var p=a.eq(l),r=!1,c=0;for(i=s.length;c<i;c++){var m=s[c];if("object"===o(m)&&p.is(m.element)){n.push(c),r=!0;break}}r||n.push(-1)}return 1===n.length&&(n=n[0]),n}(v),$=s[g],x=e.Event("menu");if("string"===f){if(c=c.toLowerCase(),$){var y=$.option;if("destroy"===c)y.$depthCutItem.remove(),u.removeClass(l.initialized),r(y.$depthItem,l.rule),n.removeClass(y.className.globalActive+" "+y.className.globalOpen),r(u,l.state),y.$depthItem.removeClass(l.has+" "+l.solo+" "+l.activePrev+" "+l.active+" "+l.activeNext+" "+l.activedPrev+" "+l.actived+" "+l.activedNext),y.$depth.css("max-height",""),y.$depth1Title.css("max-height",""),u.css("padding-bottom",""),t.off("resize."+y.namespace),a.off("keydown."+y.namespace),y.$openElement.off("click."+y.namespace+" focusin."+y.namespace),y.$closeElement.off("click."+y.namespace+" focusout."+y.namespace),u.off("mouseover."+y.namespace+" mouseleave."+y.namespace),y.$depthText.off("focusin."+y.namespace+" focusout."+y.namespace+" click."+y.namespace),y.$depthAndText.off("mouseover."+y.namespace),s.splice(g,1);else if("spy"===c){d(m)||(m=y.$activedDepthText[0]);for(var b=e(m),C=y.$depthText.length,w=0,T=b.length;w<T;w++){var N=!1,D=b[w],I=0;for(C=y.$depthText.length;I<C;I++)y.$depthText.eq(I).is(D)&&(N=!0);N&&y.openMenu.call(D,x)}}}}else if("jQueryElement"===o(u)){$&&u.menu("destroy"),"object"!==f&&(c={}),c.namespace="string"==typeof(h=c.namespace)?h.replace(/\s/g,""):h,"string"==typeof c.namespace&&""!==c.namespace||(c.namespace=u.attr("id")||(u.attr("class")||"").split(/\s/)[0]||v.tagName.toLowercase()+(s.length+1)),"object"!==o(c.cut)&&(c.cut={}),"string"==typeof c.event&&(c.event=c.event.toLowerCase()),"mouse"!==c.event&&"click"!==c.event&&(c.event="click"),c.$openElement=e(c.openElement),c.$openElement.length||(c.$openElement=e('div[data-menu-open="'+c.namespace+'"] > button')),c.$closeElement=e(c.closeElement),c.$closeElement.length||(c.$closeElement=e('div[data-menu-close="'+c.namespace+'"] > button')),c.interval=250,c.className={globalActive:c.namespace+i+l.active,globalOpen:c.namespace+i+l.open},c.type=parseInt(u.attr("data-menu-type"),10),c.type&&"NaN"!==o(c.type)||(c.type=1),c.$depth=u.find("div[data-menu-depth]"),c.$depth1=c.$depth.filter('div[data-menu-depth="1"]'),c.$depth1Title=c.$depth1.find('div[data-menu-title="1"]'),c.$depth1List=c.$depth1.find('ul[data-menu-list="1"]'),c.$depth1Item=c.$depth1List.children("li"),c.$depth1Text=c.$depth1Item.find('a[data-menu-text="1"], button[data-menu-text="1"]'),c.$depth2=c.$depth.filter('[data-menu-depth="2"]'),c.$depthList=c.$depth.find("ul[data-menu-list]"),c.$depthItem=c.$depthList.children("li"),c.$depthText=c.$depth1.find("a[data-menu-text], button[data-menu-text]"),c.$depthLastText=c.$depthText.last(),c.$depthAndText=c.$depth.add(c.$depthText),c.$activedDepthText=c.$depth1.find('a[data-menu-text][data-menu-actived="true"], button[data-menu-text][data-menu-actived="true"]').last(),c.$activedDepthItem=c.$activedDepthText.parents("li"),c.$activedDepthItem.prev("li").addClass(l.activedPrev),c.$activedDepthItem.addClass(l.actived),c.$activedDepthItem.next("li").addClass(l.activedNext),u.addClass(l.initialized);for(var w in c.cut){var k=c.cut[w];"number"===o(w=parseInt(w,10))&&"number"===o(k)&&k>1&&u.find('div[data-menu-depth="'+w+'"]:first-of-type ul[data-menu-list]:first > li:nth-child('+k+"n)").next("li").prev("li").after('<li class="'+l.cut+'">&nbsp;</li>')}c.$depthCutItem=c.$depthList.children("li."+l.cut);w=0;for(var E=c.$depthList.length;w<E;w++)for(var j=c.$depthList.eq(w).children("li"),P=(I=0,j.length);I<P;I++){var A=j.eq(I);A.addClass(l.rule+(I+1)),A.find("div[data-menu-depth]:first").length?A.addClass(l.has):A.addClass(l.solo)}c.setHeight=function(t){if("object"!==o(t)&&(c={}),"boolean"!=typeof t.nextDepth&&(t.nextDepth=!1),"boolean"!=typeof t.parentsDepth&&(t.parentsDepth=!1),t.$element=e(t.element),d(t.element)){if(t.isActive=!0,t.isOpen=!0,n.hasClass(c.className.globalActive)||(n.addClass(c.className.globalActive),t.isActive=!1),n.hasClass(c.className.globalOpen)||(n.addClass(c.className.globalOpen),t.isOpen=!1),t.$parentsDepthItem=t.$element.parents("li"),t.nextDepth&&(t.$nextDepth=t.$parentsDepthItem.first().find("div[data-menu-depth]:first"),t.$nextDepth.css("max-height",p(t.$nextDepth[0]))),t.parentsDepth){t.$parentsDepth=t.$element.parents('div[data-menu-depth]:not([data-menu-depth="1"])');for(var a=0,s=t.$parentsDepth.length;a<s;a++){var i=t.$parentsDepth[a];i.style.maxHeight=p(i)+"px"}}t.$depth2=t.$parentsDepthItem.find('div[data-menu-depth="2"]'),1===c.type?(t.depth2Height=Math.max.apply(null,p(c.$depth2.get())),c.$depth1Title.css("max-height",t.depth2Height)):2!==c.type&&3!==c.type||!t.$depth2.length||(t.depth2Height=p(t.$depth2[0])),1===c.type||2===c.type?c.$depth2.css("max-height",t.depth2Height):3===c.type&&t.$depth2.css("max-height",t.depth2Height),1!==c.type&&2!==c.type&&3!==c.type||(v.style.paddingBottom=t.depth2Height+"px"),t.isActive||n.removeClass(c.className.globalActive),t.isOpen||n.removeClass(c.className.globalOpen)}return t.$element},c.addStateClass=function(t){var a=e(t).parents("li");r(u,l.state);for(var n=0,s=a.length;n<s;n++)u.addClass(l.state+(c.$depthItem.index(a[n])+1))},c.setSpy=function(e){c.$activedDepthText.length?u.menu("spy"):c.closeMenu.call(e,x)},c.openMenu=function(t){var a=e(this).parents("li"),s=a.last(),i=a.prev("li"),o=a.next("li");if(c.$depthCutItem.is(i)&&(i=i.prev("li")),c.$depthCutItem.is(o)&&(o=o.next("li")),"mouse"===c.event&&"focusin"!==t.type)c.closeMenu.call(this,t);else if("click"===c.event){var d=a.find("[data-menu-text]:first").filter("a, button").closest("li"),p=d.siblings("li");d.add(p).removeClass(l.activePrev+" "+l.active+" "+l.activeNext),p.find("div[data-menu-depth]:first").css("max-height","")}n.addClass(c.className.globalActive),i.addClass(l.activePrev),a.addClass(l.active),o.addClass(l.activeNext),c.addStateClass(s.add(s.find("div[data-menu-depth]:first-of-type ul[data-menu-list]:first > li")).filter("."+l.active).last().find("[data-menu-text]:first").filter("a, button")[0]),c.setHeight({element:this,nextDepth:!0,parentsDepth:!0}),t.stopPropagation()},c.closeMenu=function(t){var a=e(this);if("mouse"===c.event)n.removeClass(c.className.globalActive),r(u,l.state),c.$depth.css("max-height",""),c.$depth1Title.css("max-height",""),v.style.paddingBottom="",c.$depthItem.removeClass(l.activePrev+" "+l.active+" "+l.activeNext);else{var s=this,i=a.parents("li"),o=i.eq(1);if(a.is(c.$depthLastText)){var d=o.prev("li"),p=o.next("li");s=i.eq(2).find("[data-menu-text]:first").filter("a, button")[0],c.$depthCutItem.is(d)&&(d=d.prev("li")),c.$depthCutItem.is(p)&&(p=p.next("li")),d.removeClass(l.activePrev),o.removeClass(l.active),p.removeClass(l.activeNext),c.addStateClass(s),i.first().closest("div[data-menu-depth]").css("max-height","")}else{var m=i.first(),h=m.prev("li"),f=m.next("li");c.$depthCutItem.is(h)&&(h=h.prev("li")),c.$depthCutItem.is(f)&&(f=f.next("li")),h.removeClass(l.activePrev),m.removeClass(l.active),f.removeClass(l.activeNext),c.addStateClass(o.find("[data-menu-text]:first").filter("a, button")[0]),m.find("div[data-menu-depth]:first").css("max-height","")}c.setHeight({element:s,nextDepth:!1,parentsDepth:!0}),c.$depth1Text.is(s)&&(n.removeClass(c.className.globalActive),1!==c.type&&2!==c.type&&3!==c.type||(v.style.paddingBottom="",c.$depth1Title.css("max-height","")))}t.stopPropagation()},"mouse"===c.event?(c.$depthAndText.on("mouseover."+c.namespace,c.openMenu),u.on("mouseover."+c.namespace,function(e){n.hasClass(c.className.globalActive)&&c.openMenu.call(this,e)}).on("mouseleave."+c.namespace,function(e){c.setSpy()})):(c.time=0,c.$depthText.on("click."+c.namespace,function(t){var a=e(this),n=a.closest("li"),s=n.find("div[data-menu-depth]:first"),i=(new Date).getTime(),d=s.css("transition-duration");if("string"==typeof d?"NaN"===o(d="ms"!==d.substr(-1)?1e3*parseFloat(d,10):parseFloat(d,10))&&(d=0):d=0,i-c.time>=d){var p=this.tagName.toLowerCase(),r=n.hasClass(l.active);c.time=i,("a"===p&&a.attr("href")===s.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===p)&&r?(c.setSpy(this),t.preventDefault()):s.length&&!r&&(c.openMenu.call(this,t),t.preventDefault())}else t.preventDefault()})),c.$openElement.on("click."+c.namespace,function(e){n.toggleClass(c.className.globalOpen),e.preventDefault()}).on("focusin."+c.namespace,function(e){n.removeClass(c.className.globalOpen)}),c.$closeElement.on("click."+c.namespace+" focusout."+c.namespace,function(e){n.removeClass(c.className.globalOpen),c.$openElement.focus(),"click"===e.type&&e.preventDefault()}),c.$depthText.on("focusin."+c.namespace,function(e){c.isPressTabKey&&c.openMenu.call(this,e)}).on("focusout."+c.namespace,function(e){c.isPressTabKey&&c.setSpy(this)}),a.on("keydown."+c.namespace,function(e){9===(e.keyCode||e.which)&&(c.isPressTabKey=!0),c.keydownTimer&&(clearTimeout(c.keydownTimer),c.keydownTimer=0),c.keydownTimer=setTimeout(function(){c.isPressTabKey=!1},c.interval)}),t.on("resize."+c.namespace,function(e){c.resizeTimer&&(clearTimeout(c.resizeTimer),c.resizeTimer=0),c.resizeTimer=setTimeout(function(){for(var e=c.$depthItem.filter("."+l.active).find("[data-menu-text]:first").filter("a, button").get().reverse(),t=0,a=e.length;t<a;t++)c.setHeight({element:e[t],nextDepth:!0,parentsDepth:!0})},c.interval)}),s.push({element:v,option:c}),c.setSpy()}return u}})}(jQuery)}catch(e){console.error(e)}