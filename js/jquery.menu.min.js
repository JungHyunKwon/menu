/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({event : string, cut : object(number : number), namespace : string})
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=e(document),a=[],n="_",i={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function s(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var a=e.length,n=0;for(t=[];n<a;n++){var i=e[n],o=s(i);"window"!==o&&"document"!==o&&"element"!==o||t.push(i)}var l=t.length;t=l&&a===l?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(i.activePrev=i.active+n+i.prev,i.activeNext=i.active+n+i.next,i.actived=i.active+"d",i.activedPrev=i.actived+n+i.prev,i.activedNext=i.actived+n+i.next,!window.console instanceof Object){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var o=0,l=window.console.method.length;o<l;o++)"function"!=typeof window.console[window.console.method[o]]&&(window.console[window.console.method[o]]=function(){var e=[],t=arguments.length;if(t>1)for(var a=0;a<t;a++)e.push(arguments[a]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var o=e("body");function l(e){var t=s(e),a=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(a=!0),a}function r(t,a){for(var n=e(t),i="string"==typeof a?a.length:0,s=[],o=0,l=n.length;o<l;o++){var r=n.eq(o),d=r.attr("class");if(d)for(var c=0,p=(d=d.split(/\s/)).length;c<p;c++){var u=d[c];u.substring(0,i)===a&&(r.removeClass(u),s.push(u))}}return 1===s.length?s=s[0]:s.length||(s=n),s}e.fn.menu=function(d){var c,p=this.first(),u=p[0],v=u.style,f=s(d),m=function(t){for(var n=e(t),i=[],o=a.length,l=0,r=n.length;l<r;l++){var d=n.eq(l),c=!1,p=0;for(o=a.length;p<o;p++){var u=a[p];if("object"===s(u)&&d.is(u.element)){i.push(p),c=!0;break}}c||i.push(-1)}return 1===i.length&&(i=i[0]),i}(u),h=a[m],g=e.Event("menu");if("string"===f){if(d=d.toLowerCase(),h){var $=h.option;if("destroy"===d){var y=$.namespace;$.$depthCutItem.remove(),p.removeClass(i.initialized),r($.$depthItem,i.rule),o.removeClass($.className.globalActive+" "+$.className.globalOpen),r(p,i.state),$.$depthItem.removeClass(i.has+" "+i.solo+" "+i.activePrev+" "+i.active+" "+i.activeNext+" "+i.activedPrev+" "+i.actived+" "+i.activedNext),v.height="",t.off("keydown."+y),$.$openElement.off("click."+y+" focusin."+y),$.$closeElement.off("click."+y+" focusout."+y),$.$depth1.off("mouseover."+y+" mouseleave."+y),$.$depthText.off("focusin."+y+" focusout."+y+" click."+y),$.$depthAndText.off("mouseover."+y),$.$depthTitle2.off("mouseout."+y),a.splice(m,1)}else if("spy"===d){var x=arguments[1];l(x)||(x=$.$activedDepthText[0]),x=e(x).first()[0],$.$depthText.is(x)&&$.openMenu.call(x,g)}}}else if(l(u)){h&&p.menu("destroy"),"object"!==f&&(d={}),d.namespace="string"==typeof(c=d.namespace)?c.replace(/\s/g,""):c,"string"==typeof d.namespace&&""!==d.namespace||(d.namespace=p.attr("id")||(p.attr("class")||"").split(/\s/)[0]||u.tagName.toLowercase()+(a.length+1)),"object"!==s(d.cut)&&(d.cut={}),"string"==typeof d.event&&(d.event=d.event.toLowerCase()),"mouse"!==d.event&&"click"!==d.event&&(d.event="click"),d.$openElement=e('div[data-menu-open="'+d.namespace+'"] [data-menu-button]'),d.$closeElement=e('div[data-menu-close="'+d.namespace+'"] [data-menu-button]'),d.interval=250,d.className={globalActive:d.namespace+n+i.active,globalOpen:d.namespace+n+i.open},d.type=parseInt(p.attr("data-menu-type"),10)||1,d.thisFirstData=p.data(),d.$depth=p.find("div[data-menu-depth]"),d.$depth1=d.$depth.filter('div[data-menu-depth="1"]'),d.$depth1Text=d.$depth1.find('a[data-menu-text="1"], button[data-menu-text="1"]'),d.$depthTitle1=d.$depth1.find('div[data-menu-title="1"]'),d.$depthTitle2=d.$depth1.find('div[data-menu-title="2"]'),d.$depth2=d.$depth.filter('[data-menu-depth="2"]'),d.$depthList=d.$depth.find("ul[data-menu-list]"),d.$depthItem=d.$depthList.children("li"),d.$depthText=d.$depth1.find("a[data-menu-text], button[data-menu-text]"),d.$depthLastText=d.$depthText.last(),d.$depthAndText=d.$depth.not('div[data-menu-depth="1"]').add(d.$depthText),d.$activedDepthText=d.$depth1.find("a[data-menu-text][data-menu-actived], button[data-menu-text][data-menu-actived]").last(),d.$activedDepthItem=d.$activedDepthText.parents("li"),v.transitionProperty="none",d.thisFirstData.menuHeight=u.clientHeight,v.transitionProperty="",d.$activedDepthItem.prev("li").addClass(i.activedPrev),d.$activedDepthItem.addClass(i.actived),d.$activedDepthItem.next("li").addClass(i.activedNext),p.addClass(i.initialized);for(var C in d.cut){var w=d.cut[C];"number"===s(C=parseInt(C,10))&&"number"===s(w)&&w>1&&p.find('div[data-menu-depth="'+C+'"]:first-of-type ul[data-menu-list]:first > li:nth-child('+w+"n)").next("li").prev("li").after('<li class="'+i.cut+'">&nbsp;</li>')}d.$depthCutItem=d.$depthList.children("li."+i.cut);C=0;for(var b=d.$depthList.length;C<b;C++)for(var T=d.$depthList.eq(C).children("li"),N=0,D=T.length;N<D;N++){var I=T.eq(N);I.addClass(i.rule+(N+1)),I.find("div[data-menu-depth]:first").length?I.addClass(i.has):I.addClass(i.solo)}d.addStateClass=function(t){var a=e(t).parents("li");r(p,i.state);for(var n=0,s=a.length;n<s;n++)p.addClass(i.state+(d.$depthItem.index(a[n])+1))},d.setSpy=function(e){d.$activedDepthText.length?p.menu("spy"):d.closeMenu.call(e,g)},d.filterDepthCutItem=function(t,a){var n=e(t);"string"==typeof a&&(a=a.toLowerCase());for(var i=0,s=n.length;i<s;i++)if(d.$depthCutItem.is(n[i])){var o=n.eq(i);"prev"===a?n[i]=o.prev("li")[0]:"next"===a&&(n[i]=o.next("li")[0])}return e(n)},d.openMenu=function(t){var a=e(this).parents("li"),n=a.first(),s=a.last(),l=s.find('div[data-menu-depth="2"]'),r=d.filterDepthCutItem(a.prev("li").get(),"prev"),c=d.filterDepthCutItem(a.next("li").get(),"next");if("mouse"===d.event&&"focusin"!==t.type)d.closeMenu.call(this,t);else if("click"===d.event){var p=a.find("[data-menu-text]:first").filter("a, button").closest("li");p.add(p.siblings("li")).removeClass(i.activePrev+" "+i.active+" "+i.activeNext)}if(o.addClass(d.className.globalActive),r.addClass(i.activePrev),a.addClass(i.active),c.addClass(i.activeNext),d.addStateClass(s.add(s.find("div[data-menu-depth]:first-of-type ul[data-menu-list]:first > li")).filter("."+i.active).last().find("[data-menu-text]:first").filter("a, button")[0]),1===d.type||2===d.type){var u=n.find("div[data-menu-depth]:first");function f(){var t="";if(1===d.type){t=[];for(var a=0,n=d.$depth2.length;a<n;a++)t[a]=d.$depth2.eq(a).children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||0;t=Math.max.apply(null,t)||""}else 2===d.type&&(t=l.children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||"");t&&(t+=d.thisFirstData.menuHeight||0),v.height=t+"px"}f(),u.length&&u.one("transitionend."+d.namespace,function(t){v.height&&e(this).closest("li").hasClass(i.active)&&f()})}t.stopPropagation()},d.closeMenu=function(t){var a=e(this);if("mouse"===d.event)o.removeClass(d.className.globalActive),r(p,i.state),v.height="",d.$depthItem.removeClass(i.activePrev+" "+i.active+" "+i.activeNext);else{var n=this,s=a.parents("li");if(a.is(d.$depthLastText)){var l=d.filterDepthCutItem(s.prev("li").get(),"prev"),c=d.filterDepthCutItem(s.next("li").get(),"next");n=s.last().find('[data-menu-text="1"]').filter("a, button")[0],l.removeClass(i.activePrev),s.removeClass(i.active),c.removeClass(i.activeNext),r(p,i.state)}else{var u=s.first(),f=d.filterDepthCutItem(u.prev("li")[0],"prev"),m=d.filterDepthCutItem(u.next("li")[0],"next");f.removeClass(i.activePrev),u.removeClass(i.active),m.removeClass(i.activeNext),d.addStateClass(s.eq(1).find("[data-menu-text]:first").filter("a, button")[0])}d.$depth1Text.is(n)&&(o.removeClass(d.className.globalActive),1!==d.type&&2!==d.type||(v.height=""))}t.stopPropagation()},"mouse"===d.event?(d.$depthAndText.on("mouseover."+d.namespace,d.openMenu),d.$depth1.on("mouseover."+d.namespace,function(t){o.hasClass(d.className.globalActive)&&(1===d.type&&e(this).is(t.target)||2===d.type&&!d.$depthTitle1.add(d.$depthTitle1.find("*")).is(t.target))&&d.setSpy(this)}).on("mouseleave."+d.namespace,function(e){d.setSpy(this)}),d.$depthTitle2.on("mouseout."+d.namespace,function(e){1===d.type&&d.setSpy(this)})):d.$depthText.on("click."+d.namespace,function(t){var a=e(this),n=a.closest("li"),s=n.find("div[data-menu-depth]:first"),o=this.tagName.toLowerCase(),l=n.hasClass(i.active);("a"===o&&a.attr("href")===s.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===o)&&l?(d.setSpy(this),t.preventDefault()):s.length&&!l&&(d.openMenu.call(this,t),t.preventDefault())}),d.$openElement.on("click."+d.namespace,function(e){o.toggleClass(d.className.globalOpen),e.preventDefault()}).on("focusin."+d.namespace,function(e){o.removeClass(d.className.globalOpen)}),d.$closeElement.on("click."+d.namespace+" focusout."+d.namespace,function(e){o.removeClass(d.className.globalOpen),d.$openElement.focus(),"click"===e.type&&e.preventDefault()}),d.$depthText.on("focusin."+d.namespace,function(e){d.isPressTabKey&&d.openMenu.call(this,e)}).on("focusout."+d.namespace,function(e){d.isPressTabKey&&d.setSpy(this)}),t.on("keydown."+d.namespace,function(e){9===(e.keyCode||e.which)&&(d.isPressTabKey=!0),d.keydownTimer&&(clearTimeout(d.keydownTimer),d.keydownTimer=0),d.keydownTimer=setTimeout(function(){d.isPressTabKey=!1},d.interval)}),a.push({element:u,option:d}),d.setSpy()}return p}})}(jQuery)}catch(e){console.error(e)}