/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({event : string, cut : object(number : number), namespace : string, openElement : element, closeElement : element})
 * @param {jQueryElement || element} element
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=e(window),a=e(document),n=p(window.console),i=[],s="menu",o="_",l={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut",initialized:s+o+"initialized"};function p(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var a=e.length,n=0;for(t=[];n<a;n++){var i=e[n],s=p(i);"window"!==s&&"document"!==s&&"element"!==s||t.push(i)}var o=t.length;t=o&&a===o?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(l.activePrev=l.active+o+l.prev,l.activeNext=l.active+o+l.next,l.actived=l.active+"d",l.activedPrev=l.actived+o+l.prev,l.activedNext=l.actived+o+l.next,"object"!==n&&"console"!==n){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var d=0,r=window.console.method.length;d<r;d++)"function"!==p(window.console[window.console.method[d]])&&(window.console[window.console.method[d]]=function(){var e=[],t=arguments.length;if(t>1)for(var a=0;a<t;a++)e.push(arguments[a]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var n=e("body");function d(e){var t=p(e),a=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(a=!0),a}function r(t){for(var a=e(t),n=[],i=0,s=a.length;i<s;i++){var o=a.eq(i),l=o[0],p="";if(d(l)){var r=l.cloneNode(!0);r.style.cssText="display:block; visibility:hidden !important; position:absolute; top:-9999px; left:-9999px; z-index:-1; height:auto; min-height:0; max-height:none; animation-name:none; transition-property:none; width:"+o.width()+"px;",o.after(r),p=e(r).outerHeight(!0),r.parentNode.removeChild(r)}n[i]=p}return 1===n.length?n=n[0]:n.length||(n=""),n}function c(t,a){for(var n=e(t),i="string"==typeof a?a.length:0,s=[],o=0,l=n.length;o<l;o++){var p=n.eq(o),d=p.attr("class");if(d)for(var r=0,c=(d=d.split(/\s/)).length;r<c;r++){var h=d[r];h.substring(0,i)===a&&(p.removeClass(h),s.push(h))}}return 1===s.length?s=s[0]:s.length||(s=n),s}e.fn.menu=function(h,m){var u,v=this.first(),f=p(h),g=function(t){for(var a=e(t),n=[],s=i.length,o=0,l=a.length;o<l;o++){var d=a.eq(o),r=!1,c=0;for(s=i.length;c<s;c++){var h=i[c];if("object"===p(h)&&d.is(h.element)){n.push(c),r=!0;break}}r||n.push(-1)}return 1===n.length&&(n=n[0]),n}(v[0]),$=i[g],x=e.Event("menu");if("string"===f){if(h=h.toLowerCase(),$)if("destroy"===h)$.option.$depthCutItem.remove(),v.removeClass(l.initialized),c($.option.$depthItem,l.rule),n.removeClass($.option.className.globalActive+" "+$.option.className.globalOpen),c(v,l.state),$.option.$depthItem.removeClass(l.has+" "+l.solo+" "+l.activePrev+" "+l.active+" "+l.activeNext+" "+l.activedPrev+" "+l.actived+" "+l.activedNext),$.option.$depth.css("max-height",""),$.option.$depth1Title.css("max-height",""),v.css("padding-bottom",""),t.off("resize."+$.option.namespace),a.off("keydown."+$.option.namespace),$.option.$openElement.off("click."+$.option.namespace+" focusin."+$.option.namespace),$.option.$closeElement.off("click."+$.option.namespace+" focusout."+$.option.namespace),v.off("mouseleave."+$.option.namespace),$.option.$depthText.off("focusin."+$.option.namespace+" focusout."+$.option.namespace+" click."+$.option.namespace),$.option.$depthAndText.off("mouseover."+$.option.namespace),i.splice(g,1);else if("spy"===h){d(m)||(m=$.option.$activedDepthText[0]);for(var y=e(m),b=$.option.$depthText.length,C=0,w=y.length;C<w;C++){var T=!1,N=y[C],D=0;for(b=$.option.$depthText.length;D<b;D++)$.option.$depthText.eq(D).is(N)&&(T=!0);T&&$.option.openMenu.call(N,x)}}}else if("jQueryElement"===p(v)){$&&v.menu("destroy"),"object"!==f&&(h={}),h.namespace="string"==typeof(u=h.namespace)?u.replace(/\s/g,""):u,"string"==typeof h.namespace&&""!==h.namespace||(h.namespace=s),"object"!==p(h.cut)&&(h.cut={}),"string"==typeof h.event&&(h.event=h.event.toLowerCase()),"mouse"!==h.event&&"click"!==h.event&&(h.event="click"),h.$openElement=e(h.openElement),h.$closeElement=e(h.closeElement),h.interval=250,h.className={globalActive:h.namespace+o+l.active,globalOpen:h.namespace+o+l.open},h.type=parseInt(v.attr("data-menu-type"),10),h.type&&"NaN"!==p(h.type)||(h.type=1),h.$depth=v.find("div[data-menu-depth]"),h.$depth1=h.$depth.filter('div[data-menu-depth="1"]'),h.$depth1Title=h.$depth1.find('div[data-menu-title="1"]'),h.$depth1List=h.$depth1.find('ul[data-menu-list="1"]'),h.$depth1Item=h.$depth1List.children("li"),h.$depth1Text=h.$depth1Item.find('a[data-menu-text="1"], button[data-menu-text="1"]'),h.$depth2=h.$depth.filter('[data-menu-depth="2"]'),h.$depthList=h.$depth.find("ul[data-menu-list]"),h.$depthItem=h.$depthList.children("li"),h.$depthText=h.$depth1.find("a[data-menu-text], button[data-menu-text]"),h.$depthLastText=h.$depthText.last(),h.$depthAndText=h.$depth.add(h.$depthText),h.$activedDepthText=h.$depth1.find('a[data-menu-text][data-menu-actived="true"], button[data-menu-text][data-menu-actived="true"]').last(),h.$activedDepthItem=h.$activedDepthText.parents("li"),h.$activedDepthItem.prev("li").addClass(l.activedPrev),h.$activedDepthItem.addClass(l.actived),h.$activedDepthItem.next("li").addClass(l.activedNext),v.addClass(l.initialized);for(var C in h.cut){var I=h.cut[C];"number"===p(C=parseInt(C,10))&&"number"===p(I)&&I>1&&v.find('div[data-menu-depth="'+C+'"] ul[data-menu-list]:first > li:nth-child('+I+")n").next("li").prev("li").after('<li class="'+l.cut+'">&nbsp;</li>')}h.$depthCutItem=h.$depthList.children("li."+l.cut);C=0;for(var k=h.$depthList.length;C<k;C++)for(var j=h.$depthList.eq(C).children("li"),E=(D=0,j.length);D<E;D++){var P=j.eq(D);P.addClass(l.rule+(D+1)),P.find("div[data-menu-depth]:first").length?P.addClass(l.has):P.addClass(l.solo)}h.setHeight=function(t){if("object"!==p(t)&&(h={}),"boolean"!=typeof t.nextDepth&&(t.nextDepth=!1),"boolean"!=typeof t.parentsDepth&&(t.parentsDepth=!1),t.$element=e(t.element),d(t.element)){if(t.isActive=!0,t.isOpen=!0,n.hasClass(h.className.globalActive)||(n.addClass(h.className.globalActive),t.isActive=!1),n.hasClass(h.className.globalOpen)||(n.addClass(h.className.globalOpen),t.isOpen=!1),t.$parentsDepthItem=t.$element.parents("li"),t.nextDepth&&(t.$nextDepth=t.$parentsDepthItem.first().find("div[data-menu-depth]:first"),t.$nextDepth.css("max-height",r(t.$nextDepth[0]))),t.parentsDepth){t.$parentsDepth=t.$element.parents('div[data-menu-depth]:not([data-menu-depth="1"])');for(var a=0,i=t.$parentsDepth.length;a<i;a++){var s=t.$parentsDepth[a];s.style.maxHeight=r(s)+"px"}}t.$depth2=t.$parentsDepthItem.find('div[data-menu-depth="2"]'),1===h.type?(t.depth2Height=Math.max.apply(null,r(h.$depth2.get())),h.$depth1Title.css("max-height",t.depth2Height)):2!==h.type&&3!==h.type||!t.$depth2.length||(t.depth2Height=r(t.$depth2[0])),1===h.type||2===h.type?h.$depth2.css("max-height",t.depth2Height):3===h.type&&t.$depth2.css("max-height",t.depth2Height),1!==h.type&&2!==h.type&&3!==h.type||(v[0].style.paddingBottom=t.depth2Height+"px"),t.isActive||n.removeClass(h.className.globalActive),t.isOpen||n.removeClass(h.className.globalOpen)}return t.$element},h.addStateClass=function(t){var a=e(t).parents("li");c(v,l.state);for(var n=0,i=a.length;n<i;n++)v.addClass(l.state+(h.$depthItem.index(a[n])+1))},h.setSpy=function(e){h.$activedDepthText.length?v.menu("spy"):h.closeMenu.call(e,x)},h.openMenu=function(t){var a=e(this).parents("li"),i=a.last(),s=a.prev("li"),o=a.next("li");if(h.$depthCutItem.is(s)&&(s=s.prev("li")),h.$depthCutItem.is(o)&&(o=o.next("li")),"mouse"===h.event&&"focusin"!==t.type)h.closeMenu.call(this,t);else if("click"===h.event){var p=a.find("[data-menu-text]:first").filter("a, button").closest("li"),d=p.siblings("li");p.add(d).removeClass(l.activePrev+" "+l.active+" "+l.activeNext),d.find("div[data-menu-depth]:first").css("max-height","")}n.addClass(h.className.globalActive),s.addClass(l.activePrev),a.addClass(l.active),o.addClass(l.activeNext),h.addStateClass(i.add(i.find("div[data-menu-depth]:first-of-type ul[data-menu-list] > li")).filter("."+l.active).last().find("[data-menu-text]:first").filter("a, button")[0]),h.setHeight({element:this,nextDepth:!0,parentsDepth:!0}),t.stopPropagation()},h.closeMenu=function(t){var a=e(this);if("mouse"===h.event)n.removeClass(h.className.globalActive),c(v,l.state),h.$depth.css("max-height",""),h.$depth1Title.css("max-height",""),v[0].style.paddingBottom="",h.$depthItem.removeClass(l.activePrev+" "+l.active+" "+l.activeNext);else{var i=this,s=a.parents("li"),o=s.eq(1);if(a.is(h.$depthLastText)){var p=o.prev("li"),d=o.next("li");i=s.eq(2).find("[data-menu-text]:first").filter("a, button")[0],h.$depthCutItem.is(p)&&(p=p.prev("li")),h.$depthCutItem.is(d)&&(d=d.next("li")),p.removeClass(l.activePrev),o.removeClass(l.active),d.removeClass(l.activeNext),h.addStateClass(i),s.first().closest("div[data-menu-depth]").css("max-height","")}else{var r=s.first(),m=r.prev("li"),u=r.next("li");h.$depthCutItem.is(m)&&(m=m.prev("li")),h.$depthCutItem.is(u)&&(u=u.next("li")),m.removeClass(l.activePrev),r.removeClass(l.active),u.removeClass(l.activeNext),h.addStateClass(o.find("[data-menu-text]:first").filter("a, button")[0]),r.find("div[data-menu-depth]:first").css("max-height","")}h.setHeight({element:i,nextDepth:!1,parentsDepth:!0}),h.$depth1Text.is(i)&&(n.removeClass(h.className.globalActive),1!==h.type&&2!==h.type&&3!==h.type||(v[0].style.paddingBottom="",h.$depth1Title.css("max-height","")))}t.stopPropagation()},"mouse"===h.event?(h.$depthAndText.on("mouseover."+h.namespace,h.openMenu),v.on("mouseleave."+h.namespace,function(e){h.setSpy()})):(h.time=0,h.$depthText.on("click."+h.namespace,function(t){var a=e(this),n=a.closest("li"),i=n.find("div[data-menu-depth]:first"),s=(new Date).getTime(),o=i.css("transition-duration");if("string"==typeof o?"NaN"===p(o="ms"!==o.substr(-1)?1e3*parseFloat(o,10):parseFloat(o,10))&&(o=0):o=0,s-h.time>=o){var d=this.tagName.toLowerCase(),r=n.hasClass(l.active);h.time=s,("a"===d&&a.attr("href")===i.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===d)&&r?(h.setSpy(this),t.preventDefault()):i.length&&!r&&(h.openMenu.call(this,t),t.preventDefault())}else t.preventDefault()})),h.$openElement.on("click."+h.namespace,function(e){n.toggleClass(h.className.globalOpen),e.preventDefault()}).on("focusin."+h.namespace,function(e){n.removeClass(h.className.globalOpen)}),h.$closeElement.on("click."+h.namespace+" focusout."+h.namespace,function(e){n.removeClass(h.className.globalOpen),h.$openElement.focus(),"click"===e.type&&e.preventDefault()}),h.$depthText.on("focusin."+h.namespace,function(e){h.isPressTabKey&&h.openMenu.call(this,e)}).on("focusout."+h.namespace,function(e){h.isPressTabKey&&h.setSpy(this)}),a.on("keydown."+h.namespace,function(e){9===(e.keyCode||e.which)&&(h.isPressTabKey=!0),h.keydownTimer&&(clearTimeout(h.keydownTimer),h.keydownTimer=0),h.keydownTimer=setTimeout(function(){h.isPressTabKey=!1},h.interval)}),t.on("resize."+h.namespace,function(e){h.resizeTimer&&(clearTimeout(h.resizeTimer),h.resizeTimer=0),h.resizeTimer=setTimeout(function(){for(var e=h.$depthItem.filter("."+l.active).find("[data-menu-text]:first").filter("a, button").get().reverse(),t=0,a=e.length;t<a;t++)h.setHeight({element:e[t],nextDepth:!0,parentsDepth:!0})},h.interval)}),i.push({element:v[0],option:h}),h.setSpy()}return v}})}(jQuery)}catch(e){console.error(e)}