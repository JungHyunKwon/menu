/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option {event : string, cut : object[number || string[number-number] : number], namespace : string}
 * @return {jQueryElement || jQueryObject}
 */
try{!function(e){if("function"!=typeof e)throw"제이쿼리가 없습니다.";var t=[],a="_",n={active:"active",state:"state",has:"has",solo:"solo",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function i(e){var t;return arguments.length&&(null===e?t="null":void 0===e?t="undefined":"date"===(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""))&&isNaN(new Date(e))?t="Invalid Date":"number"===t?isNaN(e)?t="NaN":isFinite(e)||(t=e.toString()):"console"===t&&(t="object")),t}function s(t){var a=!1;function n(e){var t=!1;try{t=document.documentElement.contains(e)}catch(e){}return e!==window&&e!==document||(t=!0),t}return(n(t)||function(t){var a=!1;if(t instanceof e){var i=t.length;a=[];for(var s=0;s<i;s++){var l=t[s];n(l)&&a.push(l)}var o=a.length;a=!(!o||i!==o)}return a}(t))&&(a=!0),a}function l(t,a){for(var n=[],i=e(t),s="string"==typeof a?a.length:0,l=0,o=i.length;l<o;l++){var r=i.eq(l),d=r.attr("class");if(d)for(var c=0,p=(d=d.split(/\s/)).length;c<p;c++){var v=d[c];v.substring(0,s)===a&&(r.removeClass(v),n.push(v))}}return 1===n.length&&(n=n[0]),n}n.activePrev=n.active+a+n.prev,n.activeNext=n.active+a+n.next,n.actived=n.active+"d",n.activedPrev=n.actived+a+n.prev,n.activedNext=n.actived+a+n.next,e(function(){var o=e("body");e.fn.menu=function(r){var d=this.first(),c=d[0]||{},p=c.style,v=function(a){for(var n=e(a),s=[],l=t.length,o=0,r=n.length;o<r;o++){var d=n.eq(o),c=!1,p=0;for(l=t.length;p<l;p++){var v=t[p];if("object"===i(v)&&d.is(v.element)){s.push(p),c=!0;break}}c||s.push(-1)}return 1===s.length&&(s=s[0]),s}(c),u=t[v],h=e.Event("menu");if("string"==typeof r){if(r=r.toLowerCase(),u){var f=u.option;if("destroy"===r){var m=f.namespace;f.$depthCutItem.remove(),d.removeClass(n.initialized),o.removeClass(f.className.globalActive+" "+f.className.globalOpen),l(d,n.state),f.$depthItem.removeClass(n.has+" "+n.solo+" "+n.activePrev+" "+n.active+" "+n.activeNext+" "+n.activedPrev+" "+n.actived+" "+n.activedNext),p.height="",f.$openElement.off("click."+m),f.$closeElement.off("click."+m),f.$depth1.off("mouseover."+m+" mouseleave."+m),f.$depthText.off("click."+m),f.$depthAndText.off("mouseover."+m),f.$depthText.off("keydown."+m),f.$depthTitle1.off("focusin."+m+" focusout."+m),f.$depthTitle2.off("mouseout."+m),t.splice(v,1)}else if("spy"===r){var g=arguments[1];s(g)||(g=f.$activedDepthLastText[0]),g=e(g).first()[0],f.$depthText.is(g)&&f.openMenu.call(g,h)}}}else if(s(c)){var $="",x=parseInt(d.attr("data-menu-type"),10);function C(e){var t="";return e>0&&(t='ul[data-menu-list="'+e+'"]'),t}function y(t){var a=e(t).parents("li"),i=[];l(d,n.state);for(var s=0,o=a.length;s<o;s++){var c=n.state+(r.$depthItem.index(a[s])+1);i.push(c),d.addClass(c)}return 1===i.length&&(i=i[0]),i}function b(t){var a=!1;return r.$activedDepthLastText.length&&("click"===r.event?(r.$depth1Text.is(t)&&!e(t).closest("li").hasClass(n.actived)||d.is(t))&&(a=!0):a=!0),a?d.menu("spy"):r.closeMenu.call(t,h),t}function T(t,a){var n=e(t);"string"==typeof a&&(a=a.toLowerCase());for(var i=0,s=n.length;i<s;i++)if(r.$depthCutItem.is(n[i])){var l=n.eq(i);"prev"===a?n[i]=l.prev("li")[0]:"next"===a&&(n[i]=l.next("li")[0])}return e(n)}u&&d.menu("destroy"),"object"!==i(r)&&(r={}),r.type=x||1,x||d.attr("data-menu-type",1),r.namespace&&"string"==typeof r.namespace||(r.namespace=d.attr("id")||c.tagName.toLowerCase()+(t.length+1)),"object"!==i(r.cut)&&(r.cut={}),"string"==typeof r.event&&(r.event=r.event.toLowerCase()),"mouse"!==r.event&&"click"!==r.event&&(r.event="mouse"),r.confirm&&"string"==typeof r.confirm||(r.confirm="콘텐츠로 이동하시겠습니까?"),r.$openElement=e('div[data-menu-open="'+r.namespace+'"] button[data-menu-button]'),r.$closeElement=e('div[data-menu-close="'+r.namespace+'"] button[data-menu-button]'),r.className={globalActive:r.namespace+a+n.active,globalOpen:r.namespace+a+n.open},r.$wildCard=d.add(d.find("*")),r.$depth=d.find("div[data-menu-depth]"),r.$depth1=r.$depth.filter('div[data-menu-depth="1"]'),r.$depth1Text=r.$depth1.find('a[data-menu-text="1"], button[data-menu-text="1"]'),r.$depthTitle=r.$depth1.find("div[data-menu-title]"),r.$depthTitle1=r.$depthTitle.filter('[data-menu-title="1"]'),r.$depthTitle2=r.$depthTitle.filter('[data-menu-title="2"]'),r.$depth2=r.$depth.filter('[data-menu-depth="2"]'),r.$depthList=r.$depth.find("ul[data-menu-list]"),r.$depthItem=r.$depthList.children("li"),r.$depthText=r.$depth1.find("a[data-menu-text], button[data-menu-text]"),r.$depthLastText=r.$depthText.last(),r.$depthAndText=r.$depth.not('div[data-menu-depth="1"]').add(r.$depthText),r.$activedDepthLastText=r.$depth1.find("[data-menu-text][data-menu-actived]").filter("a, button").last(),r.$activedDepthItem=r.$activedDepthLastText.parents("li"),r.$wildCard.css("transition-property","none"),$=c.clientHeight,r.$wildCard.css("transition-property",""),r.$activedDepthItem.prev("li").addClass(n.activedPrev),r.$activedDepthItem.addClass(n.actived),r.$activedDepthItem.next("li").addClass(n.activedNext),d.addClass(n.initialized);for(var N in r.cut){var w=N.split("-"),I=w.length,L=parseInt(w[0],10),k=parseInt(r.cut[N],10),P=d;if(I>1)for(var D=0;D<I;D++){var M=parseInt(w[D],10);if(!(M>0)){P.length=0;break}var A=D+1,q=C(A);A!==I&&(q+=" > li:nth-child("+M+")"),P=P.find(q)}else 1===I&&L>1&&(P=P.find(C(L)));if(!P.is(d)&&k>1){D=0;for(var E=P.length;D<E;D++)P.eq(D).children("li:nth-child("+k+"n)").next("li").prev("li").after('<li class="'+n.cut+'">&nbsp;</li>')}}r.$depthCutItem=r.$depthList.children("li."+n.cut);N=0;for(var j=r.$depthItem.length;N<j;N++){var O=r.$depthItem.eq(N);O.find("div[data-menu-depth]:first").length?O.addClass(n.has):O.addClass(n.solo)}r.openMenu=function(t){var a=e(this).parents("li"),i=a.first(),s=a.last(),l=s.find('div[data-menu-depth="2"]'),d=T(a.prev("li").get(),"prev"),c=T(a.next("li").get(),"next");if("mouse"===r.event)r.closeMenu.call(this,t);else{var v=a.find("[data-menu-text]:first").filter("a, button").closest("li");v.add(v.siblings("li")).removeClass(n.activePrev+" "+n.active+" "+n.activeNext)}if(o.addClass(r.className.globalActive),d.addClass(n.activePrev),a.addClass(n.active),c.addClass(n.activeNext),y(s.add(s.find("ul[data-menu-list] > li")).filter("."+n.active).last().find("[data-menu-text]:first").filter("a, button")[0]),1===r.type||2===r.type){var u=i.find("div[data-menu-depth]:first");function h(){var t="";if(1===r.type){t=[];for(var a=0,n=r.$depth2.length;a<n;a++)t[a]=r.$depth2.eq(a).children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||0;t=Math.max.apply(null,t)||""}else 2===r.type&&(t=l.children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||"");t&&(t+=$,t+="px"),p.height=t}h(),u.length&&u.one("transitionend."+r.namespace,function(e){i.hasClass(n.active)&&h()})}t.stopPropagation()},r.closeMenu=function(t){var a=e(this);if("mouse"===r.event)o.removeClass(r.className.globalActive),l(d,n.state),p.height="",r.$depthItem.removeClass(n.activePrev+" "+n.active+" "+n.activeNext);else{var i=this,s=a.parents("li");if(a.is(r.$depthLastText)){var c=T(s.prev("li").get(),"prev"),v=T(s.next("li").get(),"next");i=s.last().find('[data-menu-text="1"]').filter("a, button")[0],c.removeClass(n.activePrev),s.removeClass(n.active),v.removeClass(n.activeNext),l(d,n.state)}else{var u=s.first(),h=T(u.prev("li")[0],"prev"),f=T(u.next("li")[0],"next");h.removeClass(n.activePrev),u.removeClass(n.active),f.removeClass(n.activeNext),y(s.eq(1).find("[data-menu-text]:first").filter("a, button")[0])}r.$depth1Text.is(i)&&(o.removeClass(r.className.globalActive),1!==r.type&&2!==r.type||(p.height=""))}t.stopPropagation()},r.toggleMenu=function(t){for(var a=e(this),i=a.closest("li"),s=i.find("div[data-menu-depth]:first"),l=s.find("ul[data-menu-list]:first > li a[data-menu-text]:first-of-type"),o=this.tagName.toLowerCase(),d=i.hasClass(n.active),c=a.attr("href")||"",p=!1,v=0,u=l.length;v<u;v++)if(c===l.eq(v).attr("href")){p=!0;break}s.length&&(d?"button"!==o&&!p&&window.confirm(r.confirm)||(b(this),t.preventDefault()):(r.openMenu.call(this,t),t.preventDefault())),t.stopPropagation()},"mouse"===r.event?(r.$depthAndText.on("mouseover."+r.namespace,r.openMenu),r.$depth1.on("mouseover."+r.namespace,function(t){o.hasClass(r.className.globalActive)&&(1===r.type&&e(this).is(t.target)||2===r.type&&!r.$depthTitle1.add(r.$depthTitle1.find("*")).is(t.target))&&b(this)}).on("mouseleave."+r.namespace,function(e){b(this)}),r.$depthTitle1.on("focusin."+r.namespace,function(e){1===r.type&&r.openMenu.call(this,e)}).on("focusout."+r.namespace,function(e){1===r.type&&b(this)}),r.$depthTitle2.on("mouseout."+r.namespace,function(e){1===r.type&&b(this)}),r.$depthText.on("keydown."+r.namespace,function(e){13===(e.keyCode||e.which)&&r.toggleMenu.call(this,e)})):r.$depthText.on("click."+r.namespace,r.toggleMenu),r.$openElement.on("click."+r.namespace,function(e){o.toggleClass(r.className.globalOpen)}),r.$closeElement.on("click."+r.namespace,function(e){o.removeClass(r.className.globalOpen)}),t.push({element:c,option:r}),b(c)}return d}})}(window.jQuery)}catch(e){console.error(e)}