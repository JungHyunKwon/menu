/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option {event : string, cut : object[number || string[number-number] : number], namespace : string}
 * @return {jQueryElement || jQueryObject}
 */
try{!function(e){if("function"!=typeof e)throw"제이쿼리가 없습니다.";var t=[],a="_",n=(e("html").attr("lang"),"Move to contents?"),i={active:"active",state:"state",has:"has",solo:"solo",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function s(e){var t;return arguments.length&&(null===e?t="null":void 0===e?t="undefined":"date"===(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""))&&isNaN(new Date(e))?t="Invalid Date":"number"===t?isNaN(e)?t="NaN":isFinite(e)||(t=e.toString()):"console"===t&&(t="object")),t}function l(t){var a=!1;function n(e){var t=!1;try{t=document.documentElement.contains(e)}catch(e){}return e!==window&&e!==document||(t=!0),t}return(n(t)||function(t){var a=!1;if(t instanceof e){var i=t.length;a=[];for(var s=0;s<i;s++){var l=t[s];n(l)&&a.push(l)}var o=a.length;a=!(!o||i!==o)}return a}(t))&&(a=!0),a}function o(t,a){for(var n=[],i=e(t),s="string"==typeof a?a.length:0,l=0,o=i.length;l<o;l++){var r=i.eq(l),d=r.attr("class");if(d)for(var c=0,p=(d=d.split(/\s/)).length;c<p;c++){var v=d[c];v.substring(0,s)===a&&(r.removeClass(v),n.push(v))}}return 1===n.length&&(n=n[0]),n}"ko"===n&&(n="콘텐츠로 이동하시겠습니까?"),i.activePrev=i.active+a+i.prev,i.activeNext=i.active+a+i.next,i.actived=i.active+"d",i.activedPrev=i.actived+a+i.prev,i.activedNext=i.actived+a+i.next,e(function(){var r=e("body");e.fn.menu=function(d){var c=this.first(),p=c[0]||{},v=p.style,u=function(a){for(var n=e(a),i=[],l=t.length,o=0,r=n.length;o<r;o++){var d=n.eq(o),c=!1,p=0;for(l=t.length;p<l;p++){var v=t[p];if("object"===s(v)&&d.is(v.element)){i.push(p),c=!0;break}}c||i.push(-1)}return 1===i.length&&(i=i[0]),i}(p),h=t[u],f=e.Event("menu");if("string"==typeof d){if(d=d.toLowerCase(),h){var m=h.option;if("destroy"===d){var g=m.namespace;m.$depthCutItem.remove(),c.removeClass(i.initialized),r.removeClass(m.className.globalActive+" "+m.className.globalOpen),o(c,i.state),m.$depthItem.removeClass(i.has+" "+i.solo+" "+i.activePrev+" "+i.active+" "+i.activeNext+" "+i.activedPrev+" "+i.actived+" "+i.activedNext),v.height="",m.$openElement.off("click."+g),m.$closeElement.off("click."+g),m.$depth1.off("mouseover."+g+" mouseleave."+g),m.$depthText.off("click."+g),m.$depthAndText.off("mouseover."+g),m.$depthText.off("keydown."+g),m.$depthTitle1.off("focusin."+g+" focusout."+g),m.$depthTitle2.off("mouseout."+g),t.splice(u,1)}else if("spy"===d){var $=arguments[1];l($)||($=m.$activedDepthLastText[0]),$=e($).first()[0],m.$depthText.is($)&&m.openMenu.call($,f)}}}else if(l(p)){var x="",C=parseInt(c.attr("data-menu-type"),10);function y(e){var t="";return e>0&&(t='ul[data-menu-list="'+e+'"]'),t}function b(t){var a=e(t).parents("li"),n=[];o(c,i.state);for(var s=0,l=a.length;s<l;s++){var r=i.state+(d.$depthItem.index(a[s])+1);n.push(r),c.addClass(r)}return 1===n.length&&(n=n[0]),n}function T(t){var a=!1;return d.$activedDepthLastText.length&&("click"===d.event?(d.$depth1Text.is(t)&&!e(t).closest("li").hasClass(i.actived)||c.is(t))&&(a=!0):a=!0),a?c.menu("spy"):d.closeMenu.call(t,f),t}function N(t,a){var n=e(t);"string"==typeof a&&(a=a.toLowerCase());for(var i=0,s=n.length;i<s;i++)if(d.$depthCutItem.is(n[i])){var l=n.eq(i);"prev"===a?n[i]=l.prev("li")[0]:"next"===a&&(n[i]=l.next("li")[0])}return e(n)}h&&c.menu("destroy"),"object"!==s(d)&&(d={}),d.type=C||1,C||c.attr("data-menu-type",1),d.namespace&&"string"==typeof d.namespace||(d.namespace=c.attr("id")||p.tagName.toLowerCase()+(t.length+1)),"object"!==s(d.cut)&&(d.cut={}),"string"==typeof d.event&&(d.event=d.event.toLowerCase()),"mouse"!==d.event&&"click"!==d.event&&(d.event="mouse"),d.$openElement=e('div[data-menu-open="'+d.namespace+'"] button[data-menu-button]'),d.$closeElement=e('div[data-menu-close="'+d.namespace+'"] button[data-menu-button]'),d.className={globalActive:d.namespace+a+i.active,globalOpen:d.namespace+a+i.open},d.$wildCard=c.add(c.find("*")),d.$depth=c.find("div[data-menu-depth]"),d.$depth1=d.$depth.filter('div[data-menu-depth="1"]'),d.$depth1Text=d.$depth1.find('a[data-menu-text="1"], button[data-menu-text="1"]'),d.$depthTitle=d.$depth1.find("div[data-menu-title]"),d.$depthTitle1=d.$depthTitle.filter('[data-menu-title="1"]'),d.$depthTitle2=d.$depthTitle.filter('[data-menu-title="2"]'),d.$depth2=d.$depth.filter('[data-menu-depth="2"]'),d.$depthList=d.$depth.find("ul[data-menu-list]"),d.$depthItem=d.$depthList.children("li"),d.$depthText=d.$depth1.find("a[data-menu-text], button[data-menu-text]"),d.$depthLastText=d.$depthText.last(),d.$depthAndText=d.$depth.not('div[data-menu-depth="1"]').add(d.$depthText),d.$activedDepthLastText=d.$depth1.find("[data-menu-text][data-menu-actived]").filter("a, button").last(),d.$activedDepthItem=d.$activedDepthLastText.parents("li"),d.$wildCard.css("transition-property","none"),x=p.clientHeight,d.$wildCard.css("transition-property",""),d.$activedDepthItem.prev("li").addClass(i.activedPrev),d.$activedDepthItem.addClass(i.actived),d.$activedDepthItem.next("li").addClass(i.activedNext),c.addClass(i.initialized);for(var w in d.cut){var I=w.split("-"),k=I.length,L=parseInt(I[0],10),M=parseInt(d.cut[w],10),P=c;if(k>1)for(var D=0;D<k;D++){var A=parseInt(I[D],10);if(!(A>0)){P.length=0;break}var q=D+1,E=y(q);q!==k&&(E+=" > li:nth-child("+A+")"),P=P.find(E)}else 1===k&&L>1&&(P=P.find(y(L)));if(!P.is(c)&&M>1){D=0;for(var j=P.length;D<j;D++)P.eq(D).children("li:nth-child("+M+"n)").next("li").prev("li").after('<li class="'+i.cut+'">&nbsp;</li>')}}d.$depthCutItem=d.$depthList.children("li."+i.cut);w=0;for(var O=d.$depthItem.length;w<O;w++){var z=d.$depthItem.eq(w);z.find("div[data-menu-depth]:first").length?z.addClass(i.has):z.addClass(i.solo)}d.openMenu=function(t){var a=e(this).parents("li"),n=a.first(),s=a.last(),l=s.find('div[data-menu-depth="2"]'),o=N(a.prev("li").get(),"prev"),c=N(a.next("li").get(),"next");if("mouse"===d.event)d.closeMenu.call(this,t);else{var p=a.find("[data-menu-text]:first").filter("a, button").closest("li");p.add(p.siblings("li")).removeClass(i.activePrev+" "+i.active+" "+i.activeNext)}if(r.addClass(d.className.globalActive),o.addClass(i.activePrev),a.addClass(i.active),c.addClass(i.activeNext),b(s.add(s.find("ul[data-menu-list] > li")).filter("."+i.active).last().find("[data-menu-text]:first").filter("a, button")[0]),1===d.type||2===d.type){var u=n.find("div[data-menu-depth]:first");function h(){var t="";if(1===d.type){t=[];for(var a=0,n=d.$depth2.length;a<n;a++)t[a]=d.$depth2.eq(a).children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||0;t=Math.max.apply(null,t)||""}else 2===d.type&&(t=l.children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||"");t&&(t+=x,t+="px"),v.height=t}h(),u.length&&u.one("transitionend."+d.namespace,function(e){n.hasClass(i.active)&&h()})}t.stopPropagation()},d.closeMenu=function(t){var a=e(this);if("mouse"===d.event)r.removeClass(d.className.globalActive),o(c,i.state),v.height="",d.$depthItem.removeClass(i.activePrev+" "+i.active+" "+i.activeNext);else{var n=this,s=a.parents("li");if(a.is(d.$depthLastText)){var l=N(s.prev("li").get(),"prev"),p=N(s.next("li").get(),"next");n=s.last().find('[data-menu-text="1"]').filter("a, button")[0],l.removeClass(i.activePrev),s.removeClass(i.active),p.removeClass(i.activeNext),o(c,i.state)}else{var u=s.first(),h=N(u.prev("li")[0],"prev"),f=N(u.next("li")[0],"next");h.removeClass(i.activePrev),u.removeClass(i.active),f.removeClass(i.activeNext),b(s.eq(1).find("[data-menu-text]:first").filter("a, button")[0])}d.$depth1Text.is(n)&&(r.removeClass(d.className.globalActive),1!==d.type&&2!==d.type||(v.height=""))}t.stopPropagation()},d.toggleMenu=function(t){for(var a=e(this),s=a.closest("li"),l=s.find("div[data-menu-depth]:first"),o=l.find("ul[data-menu-list]:first > li a[data-menu-text]:first-of-type"),r=this.tagName.toLowerCase(),c=s.hasClass(i.active),p=a.attr("href")||"",v=!1,u=0,h=o.length;u<h;u++)if(p===o.eq(u).attr("href")){v=!0;break}l.length&&(c?"button"!==r&&!v&&window.confirm(n)||(T(this),t.preventDefault()):(d.openMenu.call(this,t),t.preventDefault())),t.stopPropagation()},"mouse"===d.event?(d.$depthAndText.on("mouseover."+d.namespace,d.openMenu),d.$depth1.on("mouseover."+d.namespace,function(t){r.hasClass(d.className.globalActive)&&(1===d.type&&e(this).is(t.target)||2===d.type&&!d.$depthTitle1.add(d.$depthTitle1.find("*")).is(t.target))&&T(this)}).on("mouseleave."+d.namespace,function(e){T(this)}),d.$depthTitle1.on("focusin."+d.namespace,function(e){1===d.type&&d.openMenu.call(this,e)}).on("focusout."+d.namespace,function(e){1===d.type&&T(this)}),d.$depthTitle2.on("mouseout."+d.namespace,function(e){1===d.type&&T(this)}),d.$depthText.on("keydown."+d.namespace,function(e){13===(e.keyCode||e.which)&&d.toggleMenu.call(this,e)})):d.$depthText.on("click."+d.namespace,d.toggleMenu),d.$openElement.on("click."+d.namespace,function(e){r.toggleClass(d.className.globalOpen)}),d.$closeElement.on("click."+d.namespace,function(e){r.removeClass(d.className.globalOpen)}),t.push({element:p,option:d}),T(p)}return c}})}(window.jQuery)}catch(e){console.error(e)}